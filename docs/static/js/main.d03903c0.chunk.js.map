{"version":3,"sources":["services/store/record/request.ts","services/store/record/index.tsx","services/loading.tsx","components/grid/grid.types.ts","components/grid/index.tsx","services/message.tsx","components/editor/CycleDropdown.tsx","components/editor/TypeDropdown.tsx","components/modal/index.tsx","components/editor/BsDropdown.tsx","@types/bs.types.ts","components/editor/RecordGroup.tsx","assets/imgs/404.svg","assets/imgs/cash-logo.svg","assets/i18n lazy /^/.*/.json$/ groupOptions: {} namespace object","services/i18n.tsx","components/form/index.tsx","components/toolbar/AmountSlidebar.tsx","components/App.tsx","services/router.tsx","components/toolbar/MainHeader.tsx","serviceWorker.ts","index.tsx"],"names":["getRecords","JSON","parse","localStorage","getItem","setRecords","records","setItem","stringify","getList","status","type","Promise","resolve","content","filter","data","getGroups","Object","keys","reduce","groups","group","DATE_FROMAT","REFRESH_DISPATCH","Symbol","DEFAULT_STATE","list","summary","cycle","income","expenses","deposit","applicable","RecordModel","uid","uuidv4","desc","validFm","Moment","Date","format","validTo","amount","$uid","$desc","$type","$status","$cycle","$group","$validFm","$validTo","$amount","this","useState","showID","value","toDate","toString","amt","parseFloat","isNaN","useRecord","useContext","Context","getSummary","record","sumcycle","daysInMonth","daysInYear","getFullYear","dayOfYear","Math","floor","getAvgAmount","recordStore","state","$list","groupName","sort","g1","g2","map","doReducer","id","action","params","success","fail","searchParams","summaryCycle","storeDispatch","doReload","then","all","indexOf","Error","reject","catch","e","splice","findIndex","updateRecord","findByID","createContext","store","dispatch","RecordStore","children","useReducer","$do","Provider","useLoading","isLoading","Loading","LoadingMask","show","callbackFn","useEffect","Function","className","COLUMN","getColumnOptions","options","fn","opts","def","forEach","size","getSpacingClass","kind","cls","bssize","push","getBootstrapClass","start","end","on","$value","join","toClassString","i","arr","getColClass","width","offset","order","option","WIDTH","OFFSET","ORDER","getBsClasses","display","margin","padding","border","rounded","colors","hidden","isMgSpacing","prop","length","isPdSpacing","getBorderClass","getRoundedClass","target","getColorClass","hiddenOn","Array","isArray","breakpoint","getDisplayClass","BsContainer","props","tagName","createElement","BsRow","gutters","alignable","align","BsCol","BTN","STORE_DISPATCH","useMessage","messageStore","btns","text","code","CONFIRM","icon","CANCEL","clearTimeout","timeout","handler","setMessage","undefined","window","setTimeout","Message","MessageBox","onClickMask","$","modal","remove","useCallback","parents","preventDefault","stopPropagation","useEvents","onClick","toLowerCase","title","btn","key","autoFocus","CycleDropdown","onChange","disableOnce","intl","useIntl","messages","CYCLE_ONCE","CYCLE_DAY","CYCLE_MONTH","CYCLE_YEAR","TypeDropdown","disableDeposit","INCOME","EXPENSES","DEPOSIT","modalReducer","isShow","setShow","BsModal","closeByBtn","doCallback","setModal","is","$el","DISMISS","onClickFbar","data-backdrop","data-keyboard","data-dismiss","aria-label","aria-hidden","color","description","BsOption","disabled","onSelect","onSelectOption","onPressEnter","useOptionEvents","onKeyPress","BsDropdown","bgColor","Toggle","useDropdownEvents","data-toggle","opt","SAVE_SYMBOL","RecordGroup","alloweds","setValue","getGroup","setGroup","onFilterChange","onSelectGroup","onModalCallback","doStopSubmit","onSubmit","module","exports","webpackAsyncContext","req","__webpack_require__","o","ids","t","LANG","defintl","locale","default","reducer","EN","res","ZH","navigator","language","substring","setLang","I18n","setMessages","promise","hasMessages","msg","useMemo","DEFAULT","BsInlineGroup","label","labelWidth","style","AmountSlidebar","showGroup","onSlide","turnon","onOpenGroup","doUpdateGroup","message","doRemove","to","Numeral","toUpperCase","min","max","SummaryDashboard","onCycleChange","expanded","setExpanded","doCollapse","SUMMARY","sm","APPLICABLE","GroupCollapse","y","UNGROUP","lg","b","App","setFilter","doClear","APPEND_RECORD","ALL_OPTION","CLEAR","Loadable","loader","loading","Route","component","setState","Component","router","path","exact","goBack","history","back","md","src","error404","alt","asEnglish","asChinese","MainHeader","dropdown","useRef","Logo","ref","Boolean","location","hostname","match","ReactDOM","render","routers","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d03903c0.chunk.js","sourcesContent":["const getRecords = <T extends { uid?: string; }>(): T[] => JSON.parse(localStorage.getItem('CM_RECORDS') || '[]');\r\nconst setRecords = <T extends { uid?: string; }>(records: T[]): void => localStorage.setItem('CM_RECORDS', JSON.stringify(records));\r\n\r\ninterface IResponse<T> {\r\n  status: number;\r\n  content: T;\r\n  message?: string;\r\n}\r\n\r\nexport const findByID = <T extends { uid?: string; }>(id?: string) => new Promise<IResponse<T>>((resolve, reject) => {\r\n  if (!id) reject(\r\n    new Error('If wanna get the specify record, must input index.')\r\n  );\r\n\r\n  resolve({\r\n    status: 200,\r\n    content: getRecords<T>().filter(({ uid }) => uid === id)[0]\r\n  });\r\n});\r\n\r\nexport const getList = <T extends { uid?: string; }>({ status, type }: { status?: string; type?: string; } = {}) => new Promise<IResponse<T[]>>(resolve => resolve({\r\n  status: 200,\r\n  content: getRecords<T>().filter(data =>\r\n    (!status || ((data as any).status === status)) && (!type || ((data as any).type === type))\r\n  )\r\n}));\r\n\r\nexport const getGroups = <T extends { uid?: string; group?: string; }>() => new Promise<IResponse<string[]>>(resolve => resolve({\r\n  status  : 200,\r\n  content : Object.keys(getRecords<T>().reduce(\r\n    (groups: { [group: string]: true; }, data: T) => data.group ? { ...groups, [ data.group ]: true } : groups,\r\n    {}\r\n  ))\r\n}));\r\n\r\nexport const createRecord = <T extends { uid?: string; }>(data: T) => new Promise<IResponse<boolean>>((resolve, reject) => {\r\n  if (!data.uid) reject(\r\n    new Error('Must have to specify a uid when create.')\r\n  );\r\n  const list = getRecords<T>();\r\n\r\n  setRecords<T>([ ...list, { ...data } ]);\r\n  resolve({ status: 200, content: true });\r\n});\r\n\r\nexport const updateRecord = <T extends { uid?: string; }>(data: T, id?: string) => new Promise<IResponse<boolean>>((resolve, reject) => {\r\n  if (!id) reject(\r\n    new Error('If wanna update the specify record, must input index.')\r\n  );  \r\n  const list = getRecords<T>();\r\n\r\n  list.splice(list.findIndex(({ uid }) => uid === id), 1, data);\r\n  setRecords<T>(list);\r\n  resolve({ status: 200, content: true });\r\n});\r\n\r\nexport const removeRecord = <T extends { uid?: string; }>(id?: string) => new Promise<IResponse<boolean>>((resolve, reject) => {\r\n  if (!id) reject(\r\n    new Error('If wanna remove the specify record, must input index.')\r\n  );  \r\n  const list = getRecords<T>();\r\n\r\n  list.splice(list.findIndex(({ uid }) => uid === id), 1);\r\n  setRecords<T>(list);\r\n  resolve({ status: 200, content: true });\r\n});\r\n\r\nexport const clearRecord = <T extends { uid?: string; }>() => new Promise<IResponse<boolean>>(resolve => {\r\n  setRecords<T>([]);\r\n  resolve({ status: 200, content: true });\r\n});\r\n","import React, { FC, Reducer, Dispatch, SetStateAction, ReactNode, createContext, useState, useContext, useReducer } from 'react';\r\nimport Moment from 'moment';\r\nimport uuidv4 from 'uuid/v4';\r\n\r\nimport { findByID, getList, getGroups, createRecord, updateRecord, removeRecord, clearRecord } from './request';\r\n\r\n\r\n// TODO: Types\r\nconst DATE_FROMAT: string = 'YYYY/MM';\r\nconst REFRESH_DISPATCH = Symbol('DISPATCH');\r\n\r\nconst DEFAULT_STATE: IStoreState = {\r\n  list    : {},\r\n  group   : [],\r\n  summary : {\r\n    cycle      : 'month',\r\n    income     : 0,\r\n    expenses   : 0,\r\n    deposit    : 0,\r\n    applicable : 0\r\n  }\r\n};\r\n\r\ninterface IStoreState { data?: IRecordData; summary: ISummary; group: string[]; list: {[ groupName: string ]: IRecordData[]; }; }\r\ninterface IStoreAction { data?: IRecordData; summary?: ISummary; group?: string[]; list?: IRecordData[]; }\r\n\r\ninterface IRequestState {\r\n  searchParams: IRecordData;\r\n  summaryCycle: 'day' | 'month' | 'year';\r\n  storeDispatch: Dispatch<IStoreAction>;\r\n}\r\n\r\nexport interface IRequestAction {\r\n  action   : 'LIST' | 'FIND' | 'GROUP' | 'CREATE' | 'UPDATE' | 'REMOVE' | 'CLEAR' | 'SUMMARY';\r\n  params  ?: IRecordData;\r\n  success ?: (params: IRecordData) => void;\r\n  fail    ?: (e: Error, params?: IRecordData) => void;\r\n}\r\n\r\nexport interface ISummary {\r\n  cycle: 'day' | 'month' | 'year';\r\n  income: number;\r\n  expenses: number; \r\n  deposit: number;\r\n  applicable: number;\r\n}\r\n\r\nexport interface IRecordData {\r\n  uid     ?: string;     desc    ?: string;\r\n  type    ?: string;     status  ?: string;\r\n  cycle   ?: string;     validFm ?: string;\r\n  validTo ?: string;     amount  ?: number;\r\n  group   ?: string;\r\n}\r\n\r\nexport class RecordModel {\r\n  private $uid     !: string;\r\n  private $desc    !: [ string, Dispatch<SetStateAction<string>> ];\r\n  private $type    !: [ string, Dispatch<SetStateAction<string>> ];\r\n  private $status  !: [ string, Dispatch<SetStateAction<string>> ];\r\n  private $cycle   !: [ string, Dispatch<SetStateAction<string>> ];\r\n  private $group   !: [ string, Dispatch<SetStateAction<string>> ];\r\n  private $validFm !: [ string, Dispatch<SetStateAction<string>> ];\r\n  private $validTo !: [ string, Dispatch<SetStateAction<string>> ];\r\n  private $amount  !: [ number, Dispatch<SetStateAction<number>> ];\r\n\r\n  constructor({\r\n    uid     = uuidv4() , desc    = '' , \r\n    type    = 'income' , status  = 'expected',\r\n    cycle   = 'month'  , validFm = Moment(new Date()).format(DATE_FROMAT),\r\n    validTo = ''       , group   = '',\r\n    amount  = 0\r\n  }: IRecordData = {}) {\r\n    this.$uid     = uid;                  this.$desc    = useState(desc);\r\n    this.$type    = useState(type);       this.$status  = useState(status);\r\n    this.$cycle   = useState(cycle);      this.$validFm = useState(validFm);\r\n    this.$validTo = useState(validTo);    this.$amount  = useState(amount);\r\n    this.$group   = useState(group);\r\n  }\r\n\r\n  get uid(): string { return this.$uid; }\r\n  \r\n  get desc(): string { return this.$desc[0]; }\r\n  set desc(value: string) { this.$desc[1](value); }\r\n\r\n  get type(): string { return this.$type[0]; }               get status(): string { return this.$status[0]; }\r\n  set type(value: string) { this.$type[1](value); }          set status(value: string) { this.$status[1](value); }\r\n\r\n  get cycle(): string { return this.$cycle[0]; }             get validFm(): string { return this.$validFm[0]; }\r\n  set cycle(value: string) { this.$cycle[1](value); }        set validFm(value: string) { this.$validFm[1](value); }\r\n\r\n  get validTo(): string { return this.$validTo[0]; }         get amount(): number { return this.$amount[0]; }\r\n  set validTo(value: string) { this.$validTo[1](value); }    set amount(value: number) { this.$amount[1](value); }\r\n\r\n  get group(): string { return this.$group[0]; }\r\n  set group(value: string) { this.$group[1](value); }\r\n\r\n  get vdateFm(): Date | null { return this.validFm ? Moment(this.validFm + '/01', 'YYYY/MM/DD').toDate() : null; }\r\n  set vdateFm(value: Date | null) { this.validFm = !value ? '' : Moment(value).format(DATE_FROMAT); }\r\n\r\n  get vdateTo(): Date | null { return this.validTo ? Moment(this.validTo + '/01', 'YYYY/MM/DD').toDate() : null; }\r\n  set vdateTo(value: Date | null) { this.validTo = !value ? '' : Moment(value).format(DATE_FROMAT); }\r\n\r\n  get amountStr(): string { return this.amount ? this.amount.toString() : ''; }\r\n  set amountStr(value: string) {\r\n    const amt = parseFloat(value);\r\n\r\n    this.amount = !isNaN(amt) ? amt : 0;\r\n  }\r\n\r\n  getJSON(showID: boolean = true): IRecordData {\r\n    return {\r\n      desc   : this.desc   , status  : this.status  ,\r\n      type   : this.type   , validFm : this.validFm ,\r\n      cycle  : this.cycle  , validTo : this.validTo ,\r\n      group  : this.group  ,\r\n      amount : this.amount , ...( showID ? { uid: this.uid } : {})\r\n    };\r\n  }\r\n\r\n  reset(): void {\r\n    this.$uid   = uuidv4();    this.desc    = '';\r\n    this.type   = 'income';    this.status  = 'actual';\r\n    this.cycle  = 'month';     this.validFm = Moment(new Date()).format(DATE_FROMAT);\r\n    this.amount = 0;           this.validTo = '';\r\n    this.group  = '';\r\n  }\r\n}\r\n\r\n// TODO: Hooks & Functions\r\nconst useRecord = () => useContext(Context);\r\n\r\nconst getAvgAmount = (sumcycle: 'day' | 'month' | 'year', { cycle = 'month', amount = 0 }: IRecordData): number => {\r\n  const daysInMonth = Moment(new Date()).daysInMonth();\r\n  const daysInYear  = Moment(`${ new Date().getFullYear() }/12/31`, 'YYYY/MM/DD').dayOfYear();\r\n\r\n  switch (sumcycle) {\r\n    case 'day': switch (cycle) {\r\n      case 'month' : return Math.floor(amount / daysInMonth);\r\n      case 'year'  : return Math.floor(amount / daysInYear);\r\n    }\r\n    break;\r\n    case 'month': switch (cycle) {\r\n      case 'day'  : return amount * daysInMonth;\r\n      case 'year' : return Math.floor(amount / 12);\r\n    }\r\n    break;\r\n    case 'year': switch (cycle) {\r\n      case 'day'   : return amount * daysInYear;\r\n      case 'month' : return amount * 12;\r\n    }\r\n    break;\r\n  }\r\n  return amount;\r\n};\r\n\r\nconst getSummary = (\r\n  cycle: 'day' | 'month' | 'year',\r\n  list: IRecordData[]\r\n): ISummary => list.filter(record => 'actual' === record.status).reduce((summary: ISummary, record) => {\r\n  const amount = getAvgAmount(summary.cycle, record);\r\n\r\n  if ('once' === record.cycle)\r\n    summary.deposit += amount * ('expenses' === record.type ? -1 : 1);\r\n  else switch (record.type) {\r\n    case 'income'   : summary.income   += amount; break;\r\n    case 'expenses' : summary.expenses += amount; break;\r\n    case 'deposit'  :\r\n      summary.deposit += amount;\r\n      summary.income  -= amount;\r\n      break;\r\n  }\r\n  return { ...summary, applicable: summary.income - summary.expenses };\r\n}, {\r\n  cycle,\r\n  income  : 0, expenses   : 0,\r\n  deposit : 0, applicable : 0\r\n});\r\n\r\n// TODO: Reducers\r\nconst recordStore: Reducer<IStoreState, IStoreAction> = (state = DEFAULT_STATE, {\r\n  data,\r\n  group   = state.group,\r\n  summary = state.summary,\r\n  list    = Object.keys(state.list).reduce(\r\n    ($list: IRecordData[], groupName: string) => [ ...$list, ...state.list[ groupName ]],\r\n    []\r\n  )\r\n}) => ({\r\n  data, group, summary,\r\n  list: list.sort(({ group: g1 = '' }, { group: g2 = '' }) =>\r\n    !g1 ? 1 : !g2 ? -1 : g1 > g2 ? 1 : g1 < g2 ? -1 : 0\r\n  ).reduce((map: {[ groupName: string ]: IRecordData[]; }, record) => ({\r\n    ...map,\r\n    [ record.group || 'UNGROUP' ]: [ ...map[ record.group || 'UNGROUP' ] || [], record ]\r\n  }), {})\r\n});\r\n\r\nconst doReducer: Reducer<IRequestState, IRequestAction> = (state, {\r\n  action,\r\n  params = {},\r\n  success = () => {},\r\n  fail = () => {}\r\n}) => {\r\n  const { searchParams, summaryCycle, storeDispatch } = state;\r\n\r\n  const doReload = () => getList<IRecordData>(searchParams).then(({ content: list }) =>\r\n    getList<IRecordData>().then(({ content: all }) => \r\n      getGroups<IRecordData>().then(({ content: group }) =>\r\n        storeDispatch({ list, group, summary: getSummary(summaryCycle, all) })\r\n      )\r\n    )\r\n  );\r\n\r\n  switch (action) {\r\n    case 'SUMMARY':\r\n      if (!params.cycle || ['day', 'month', 'year'].indexOf(params.cycle) < 0) throw new Error(\r\n        'If wanna re-calculate the summary, must specify cycle.'\r\n      );\r\n\r\n      getList<IRecordData>().then(({ content }) => storeDispatch({\r\n        summary: getSummary(params.cycle as 'day' | 'month' | 'year', content)\r\n      }));\r\n\r\n      return {\r\n        searchParams,\r\n        storeDispatch,\r\n        summaryCycle: params.cycle as 'day' | 'month' | 'year'\r\n      };\r\n    case 'CREATE' : createRecord<IRecordData>(params)\r\n      .then(doReload)\r\n      .then(() => success(params))\r\n      .catch(e => fail(e, params));\r\n\r\n    break;\r\n    case 'UPDATE' : updateRecord<IRecordData>(params, params.uid)\r\n      .then(doReload)\r\n      .then(() => success(params))\r\n      .catch(e => fail(e, params));\r\n\r\n    break;\r\n    case 'REMOVE' : removeRecord<IRecordData>(params.uid)\r\n      .then(doReload)\r\n      .then(() => success(params))\r\n      .catch(e => fail(e, params));\r\n\r\n    break;\r\n    case 'CLEAR'  : clearRecord<IRecordData>()\r\n      .then(() => getList<IRecordData>()\r\n        .then(() => storeDispatch({\r\n          list: [],\r\n          summary: { cycle: summaryCycle, income: 0, expenses: 0, deposit: 0, applicable: 0 }\r\n        }))\r\n        .then(() => success(params))\r\n        .catch(e => fail(e))\r\n      )\r\n      .catch(e => fail(e));\r\n\r\n    break;\r\n    case 'FIND': findByID<IRecordData>(params.uid)\r\n      .then(({ content }) => storeDispatch({ data: content }))\r\n      .then(() => success(params))\r\n      .catch(e => fail(e));\r\n\r\n    break;\r\n    case 'LIST': getList<IRecordData>(params)\r\n      .then(({ content }) => storeDispatch({ list: content }))\r\n      .then(() => success(params))\r\n      .catch(e => fail(e));\r\n\r\n    break;\r\n    case 'GROUP': getGroups<IRecordData>()\r\n      .then(({ content }) => storeDispatch({ group: content }))\r\n      .then(() => success(params))\r\n      .catch(e => fail(e));\r\n\r\n    break;\r\n  }\r\n  return state;\r\n}\r\n\r\n// TODO: Components\r\nconst Context = createContext<{\r\n  store: IStoreState;\r\n  dispatch: Dispatch<IRequestAction>;\r\n  [ REFRESH_DISPATCH ]: Dispatch<IStoreAction>;\r\n}>({\r\n  store: DEFAULT_STATE,\r\n  dispatch: () => {},\r\n  [ REFRESH_DISPATCH ]: () => {}\r\n});\r\n\r\nconst RecordStore: FC<{ children: ReactNode }> = ({ children }) => {\r\n  const [ store, storeDispatch ] = useReducer(recordStore, DEFAULT_STATE);\r\n\r\n  const $do = useReducer(doReducer, {\r\n    searchParams: {},\r\n    summaryCycle: 'month',\r\n    storeDispatch\r\n  });\r\n\r\n  return (\r\n    <Context.Provider value={{ store, dispatch: $do[1], [ REFRESH_DISPATCH ]: storeDispatch }}>\r\n      { children }\r\n    </Context.Provider>\r\n  );\r\n};\r\n\r\n// TODO: Export\r\nexport default RecordStore;\r\nexport { useRecord };\r\n","import React, {\r\n  FC,\r\n  ReactNode,\r\n  Dispatch,\r\n  SetStateAction,\r\n  createContext,\r\n  useState,\r\n  useContext,\r\n  useEffect\r\n} from 'react';\r\n\r\n\r\n// TODO: Types\r\ninterface IState { show: boolean; callbackFn?: () => void; }\r\ninterface IContext { isLoading: boolean; Loading: Dispatch<SetStateAction<IState>> }\r\n\r\n// TODO: Variables\r\nconst useLoading = () => useContext(Context);\r\n\r\n// TODO: Components\r\nconst Context = createContext<IContext>({ isLoading: false, Loading: () => {} });\r\n\r\nconst LoadingMask: FC<{ children?: ReactNode }> = ({ children }) => {\r\n  const [{ show: isLoading, callbackFn }, Loading ] = useState<IState>({ show: false });\r\n\r\n  useEffect(() => {\r\n    if (callbackFn instanceof Function)\r\n      callbackFn();\r\n  }, [ callbackFn ]);\r\n\r\n  return (\r\n    <Context.Provider value={{ isLoading, Loading }}>\r\n      { !isLoading ? null : (\r\n        <div className=\"loading-mask\" />\r\n      )}\r\n\r\n      { children }\r\n    </Context.Provider>\r\n  );\r\n};\r\n\r\nexport default LoadingMask;\r\nexport { useLoading };\r\n","import { ReactNode } from 'react';\r\nimport { BsColor } from '../../@types/bs.types';\r\n\r\n\r\n// TODO: Basic Types\r\ntype Breakpoint = 'sm' | 'md' | 'lg' | 'xl';\r\n\r\ntype BsSize = '' | Breakpoint;\r\ntype BsBreakpoint = 'def' | Breakpoint;\r\ntype BsSpacing5 = 1 | 2 | 3 | 4 | 5;\r\n\r\ntype BsDisplay = 'inline' | 'inline-block' | 'inline-flex'\r\n  | 'block' | 'flex' | 'table' | 'table-row' | 'table-cell';\r\n\r\n\r\n// TODO: Configures Types\r\nenum COLUMN { WIDTH, OFFSET, ORDER }\r\n\r\ntype BsCol12 = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12;\r\ntype Width = 'auto' | BsCol12;\r\ntype Order = 'first' | 'last' | BsCol12;\r\n\r\ntype BsColors = false | { border?: BsColor; text?: BsColor; bg?: BsColor; };\r\ntype BsHidden = false | BsBreakpoint | BsBreakpoint[];\r\ntype BsBorder = boolean | { t?: true;  l?: true; b?: true;  r?: true; };\r\ntype BsRounded = boolean | { size?: 'sm' | 'lg'; type?: 'top' | 'bottom' | 'left' | 'right' | 'circle' | 'pill'; };\r\n\r\ntype BsMargin = false | BsSpacing5 | {\r\n  t?: BsSpacing5;  l?: BsSpacing5 | 'auto';\r\n  b?: BsSpacing5;  r?: BsSpacing5 | 'auto';\r\n  y?: BsSpacing5;  x?: BsSpacing5 | 'auto';\r\n};\r\n\r\ntype BsPadding = false | BsSpacing5 | {\r\n  t?: BsSpacing5;  l?: BsSpacing5;\r\n  b?: BsSpacing5;  r?: BsSpacing5;\r\n  y?: BsSpacing5;  x?: BsSpacing5;\r\n};\r\n\r\ninterface IBreakpoint<T> { def?: T; sm?: false | T; md?: false | T; lg?: false | T; xl?: false | T; }\r\n\r\nexport interface IRowProps extends IBsgridProps {\r\n  align?: false | 'start' | 'center' | 'end' | 'around' | 'between';\r\n  alignable?: BsSize;\r\n  gutters?: boolean;\r\n}\r\n\r\nexport interface IColProps extends IBsgridProps {\r\n  width?: Width | IBreakpoint<Width>;\r\n  offset?: false | BsCol12 | IBreakpoint<BsCol12>;\r\n  order?: false | Order | IBreakpoint<Order>;\r\n}\r\n\r\n\r\n// TODO: Generate Class Function\r\nfunction getColumnOptions<T>(options: T | false, fn: (bssize: BsSize, opts: T) => void): void {\r\n  const opts: IBreakpoint<T> = (options instanceof Object ? options : { def: options }) as IBreakpoint<T>;\r\n\r\n  Object.keys(opts).forEach((size: string) => (opts as any)[size] === false ? null : fn(\r\n    ('def' === size ? '' : size) as BsSize,\r\n    (opts as any)[size]\r\n  ));\r\n}\r\n\r\nfunction getSpacingClass(kind: 'm' | 'p', options: any): string[] {\r\n  const cls: string[] = [];\r\n\r\n  Object.keys(options).forEach((size: string) => {\r\n    const bssize = 'def' === size ? '' : size;\r\n    const value = options[size];\r\n\r\n    if (value !== false) {\r\n      if ('number' === typeof value)\r\n        cls.push(getBootstrapClass(bssize as BsSize, { start: kind, end: value }));\r\n      else Object.keys(value).forEach((on: string) => {\r\n        const $value = value[on] || '';\r\n\r\n        if ($value)\r\n          cls.push(getBootstrapClass(bssize as BsSize, { start: `${kind}${on}`, end: $value }));\r\n      });\r\n    }\r\n  });\r\n  return cls;\r\n}\r\n\r\nfunction getBorderClass(options: BsBorder): string[] {\r\n  const cls: string[] = [];\r\n\r\n  if (options !== false) {\r\n    if (options === true)\r\n      cls.push('border');\r\n    else Object.keys(options).forEach((on: string) => {\r\n      switch (on) {\r\n        case 't': cls.push('border-top'); break;\r\n        case 'b': cls.push('border-bottom'); break;\r\n        case 'l': cls.push('border-left'); break;\r\n        case 'r': cls.push('border-right'); break;\r\n      }\r\n    });\r\n  }\r\n  return cls;\r\n}\r\n\r\nfunction getRoundedClass(options: BsRounded): string[] {\r\n  const cls: string[] = [];\r\n\r\n  if (options !== false) {\r\n    if (options === true)\r\n      cls.push('rounded');\r\n    else Object.keys(options).forEach((prop: string) => {\r\n      const { [prop]: value } = options as any;\r\n\r\n      if (value)\r\n        cls.push(`rounded-${value}`);\r\n    });\r\n  }\r\n  return cls;\r\n}\r\n\r\nfunction getColorClass(options: BsColors): string[] {\r\n  const cls: string[] = [];\r\n\r\n  if (options !== false) Object.keys(options).forEach((target: string) => {\r\n    const { [target]: value } = options as any;\r\n\r\n    if (value)\r\n      cls.push('border' === target ? `border-${value}` : `${target}-${value}`);\r\n  });\r\n  return cls;\r\n}\r\n\r\nfunction getDisplayClass(display: BsDisplay, options: BsHidden): string[] {\r\n  const cls: string[] = [`d-${display}`];\r\n\r\n  if (options !== false) {\r\n    const hiddenOn: BsBreakpoint[] = Array.isArray(options) ? options : [options];\r\n\r\n    ['def', 'sm', 'md', 'lg', 'xl'].filter((breakpoint: string) =>\r\n      hiddenOn.indexOf(breakpoint as BsBreakpoint) >= 0\r\n    ).forEach((breakpoint: string) => {\r\n      const size: BsSize = 'def' === breakpoint ? '' : (breakpoint as BsSize);\r\n\r\n      cls.splice(cls.indexOf(getBootstrapClass(size, { start: 'd', end: display })), 1);\r\n      cls.push(getBootstrapClass(size, { start: 'd', end: 'none' }));\r\n    });\r\n  }\r\n  return cls;\r\n}\r\n\r\nexport function getBootstrapClass(\r\n  size: BsSize,\r\n  { start = '', end = '' }: { start?: string | number, end?: string | number } = {}\r\n): string {\r\n  return [start, size, end].filter((value: string | number) => !(!value)).join('-');\r\n};\r\n\r\nexport function toClassString(cls: string[]): string {\r\n  return cls.filter((value: string, i: number, arr: string[]) =>\r\n    !(!value) && arr.indexOf(value) === i\r\n  ).join(' ');\r\n}\r\n\r\nexport function getColClass({ width = 'auto', offset = false, order = false }: IColProps): string[] {\r\n  return [ width, offset, order ].reduce((cls: string[], option: any, i: number): string[] => {\r\n    switch (i) {\r\n      case COLUMN.WIDTH: getColumnOptions<Width>(option, (size, opts) =>\r\n        cls.push(getBootstrapClass(size, { start: 'col', end: 'auto' === opts ? '' : opts }))\r\n      ); break;\r\n      case COLUMN.OFFSET: getColumnOptions<BsCol12>(option, (size, opts) =>\r\n        cls.push(getBootstrapClass(size, { start: 'offset', end: opts }))\r\n      ); break;\r\n      case COLUMN.ORDER: getColumnOptions<Order>(option, (size, opts) =>\r\n      cls.push(getBootstrapClass(size, { start: 'order', end: opts }))\r\n    ); break;\r\n    }\r\n    return [ ...cls ];\r\n  }, []);\r\n}\r\n\r\nexport function getBsClasses(display: BsDisplay, {\r\n  className = '',\r\n  margin = false,\r\n  padding = false,\r\n  border = false,\r\n  rounded = false,\r\n  colors = false,\r\n  hidden = false\r\n}: IBsgridProps): string[] {\r\n  const isMgSpacing = Object.keys(margin).filter(prop => [ 'def', 'sm', 'md', 'lg', 'xl' ].indexOf(prop) >= 0).length > 0;\r\n  const isPdSpacing = Object.keys(padding).filter(prop => [ 'def', 'sm', 'md', 'lg', 'xl' ].indexOf(prop) >= 0).length > 0;\r\n\r\n  return [\r\n    className,\r\n    ...getSpacingClass('m', !isMgSpacing ? { def: margin } : margin),\r\n    ...getSpacingClass('p', !isPdSpacing ? { def: padding } : padding),\r\n    ...getBorderClass(border),\r\n    ...getRoundedClass(rounded),\r\n    ...getColorClass(colors),\r\n    ...getDisplayClass(display, hidden)\r\n  ];\r\n};\r\n\r\nexport default interface IBsgridProps {\r\n  tagName?: string;\r\n  className?: string;\r\n\r\n  margin?: BsMargin | IBreakpoint<BsMargin>;\r\n  padding?: BsPadding | IBreakpoint<BsPadding>;\r\n  border?: BsBorder;\r\n  rounded?: BsRounded;\r\n  colors?: BsColors;\r\n  hidden?: BsHidden;\r\n\r\n  children?: ReactNode;\r\n}","import { FC, createElement } from 'react';\r\n\r\nimport IBsgridProps, {\r\n  IRowProps,\r\n  IColProps,\r\n  toClassString,\r\n  getBsClasses,\r\n  getColClass,\r\n  getBootstrapClass\r\n} from './grid.types';\r\n\r\n\r\n// TODO: Components\r\nexport const BsContainer: FC<IBsgridProps> = (props: IBsgridProps) => {\r\n  const { tagName = 'div', children } = props;\r\n\r\n  return createElement(tagName, {\r\n    className: toClassString([ 'container', ...getBsClasses('block', props) ])\r\n  }, children);\r\n};\r\n\r\nexport const BsRow: FC<IRowProps> = (props: IRowProps) => {\r\n  const { tagName = 'div', children, gutters = true, alignable = '', align = false } = props;\r\n\r\n  return createElement(tagName, {\r\n    className: toClassString([\r\n      'row',\r\n      gutters ? '' : 'no-gutters',\r\n      align === false ? '' : `justify-content-${getBootstrapClass(alignable, { end: align })}`,\r\n      ...getBsClasses('flex', props)\r\n    ])\r\n  }, children);\r\n};\r\n\r\nexport const BsCol: FC<IColProps> = (props: IColProps) => {\r\n  const { tagName = 'div', children } = props;\r\n\r\n  return createElement(tagName, {\r\n    className: toClassString([\r\n      'col',\r\n      ...getColClass(props),\r\n      ...getBsClasses('block', props)\r\n    ])\r\n  }, children);\r\n}\r\n","import { FormattedMessage as Fmsg } from 'react-intl';\r\nimport uuidv4 from 'uuid/v4';\r\n\r\nimport React, {\r\n  FC,\r\n  Dispatch,\r\n  Reducer,\r\n  ReactNode,\r\n  MouseEvent,\r\n  createContext,\r\n  useEffect,\r\n  useContext,\r\n  useReducer,\r\n  useCallback\r\n} from 'react';\r\n\r\n\r\n// TODO: Types\r\nconst STORE_DISPATCH = Symbol('DISPATCH');\r\n\r\nexport enum BTN { CONFIRM, CANCEL }\r\n\r\ninterface IStoreState { options?: IMessageState; }\r\n\r\ninterface IContext {\r\n  options?: IMessageOptions;\r\n  Message: Dispatch<IMessageOptions | BTN>;\r\n  [ STORE_DISPATCH ]: Dispatch<IMessageOptions | BTN>;\r\n}\r\n\r\ninterface IMessageOptions {\r\n  type: 'INFO' | 'WARNING' | 'DANGER' | 'CONFIRM';\r\n  uid?: string;\r\n  title?: string;\r\n  icon?: string;\r\n  content: string;\r\n  timeout?: number;\r\n  handler?: (btn: BTN) => any;\r\n}\r\n\r\ninterface IMessageState extends IMessageOptions {\r\n  btns: {\r\n    text?: string;\r\n    code: BTN;\r\n    icon?: string;\r\n  }[];\r\n}\r\n\r\n// TODO: Hooks\r\nconst useMessage = () => useContext(Context);\r\n\r\nconst useEvents = (options?: IMessageState) => {\r\n  useEffect(() => {\r\n    if (options)\r\n      $(`#${ options.uid }`).modal('show');\r\n    else\r\n      $('div.modal-backdrop').remove();\r\n  }, [ options ]);\r\n\r\n  return {\r\n    onClickMask: useCallback((e: MouseEvent) => {\r\n      if ($(e.target).parents('div.alert').length > 0) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n      }\r\n    }, [])\r\n  };\r\n};\r\n\r\n// TODO: Reducer\r\nconst messageStore: Reducer<IStoreState, IMessageOptions | BTN> = (state, options) => {\r\n  switch (typeof options) {\r\n    case 'object': return {\r\n      options: {\r\n        ...options,\r\n        btns: 'CONFIRM' !== options.type ? [\r\n          { text: 'CHECK_IT', code: BTN.CONFIRM, icon: 'fa fa-check' }\r\n        ] : [\r\n          { text: 'CANCEL', code: BTN.CANCEL, icon: 'fa fa-ban' },\r\n          { text: 'CONFIRM', code: BTN.CONFIRM, icon: 'fa fa-check' }\r\n        ]\r\n      }\r\n    };\r\n    case 'number':\r\n      if (state.options) {\r\n        clearTimeout(state.options.timeout);\r\n\r\n        if (state.options.handler instanceof Function) state.options.handler(\r\n          options\r\n        );\r\n      }\r\n      return {};\r\n  }\r\n  return state;\r\n};\r\n\r\nconst setMessage: Reducer<Dispatch<IMessageOptions | BTN>, IMessageOptions | BTN> = (dispatch, options) => {\r\n  switch (typeof options) {\r\n    case 'number':\r\n      dispatch(options);\r\n      break;\r\n\r\n    case 'object':\r\n      const { type, timeout = null } = options;\r\n\r\n      dispatch({\r\n        ...options,\r\n        uid     : uuidv4(),\r\n        timeout : 'CONFIRM' === type ? undefined : window.setTimeout(\r\n          () => dispatch(BTN.CANCEL),\r\n          !timeout ? 2000 : timeout\r\n        )\r\n      });\r\n      break;\r\n  }\r\n  return dispatch;\r\n};\r\n\r\n// TODO: Components\r\nconst Context = createContext<IContext>({\r\n  Message: () => {},\r\n  [ STORE_DISPATCH ]: () => {}\r\n});\r\n\r\nconst MessageBox: FC<{ children?: ReactNode }> = ({ children }) => {\r\n  const [{ options }, storeDispatch ] = useReducer(messageStore, {});\r\n  const $do = useReducer(setMessage, storeDispatch);\r\n  const { onClickMask } = useEvents(options);\r\n\r\n  return (\r\n    <Context.Provider value={{ options, Message: $do[1], [ STORE_DISPATCH ]: storeDispatch }}>\r\n      { children }\r\n\r\n      { !options ? null : (\r\n        <div className=\"modal message-modal\" id={ options.uid } onClick={ onClickMask }>\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className={ `alert alert-${ 'CONFIRM' === options.type ? 'primary' : options.type.toLowerCase() }` }>\r\n                <div className=\"media\">\r\n                  { !options.icon ? null : <i className={ `mr-3 ${options.icon}` } /> }\r\n\r\n                  <div className=\"media-body\">\r\n                    { !options.title ? null : (\r\n                      <h5 className=\"mt-0\">\r\n                        <Fmsg tagName=\"strong\" id={ options.title } />\r\n                      </h5>\r\n                    ) }\r\n\r\n                    <Fmsg tagName=\"p\" id={ options.content } />\r\n\r\n                    <div className=\"d-flex justify-content-end\">\r\n                      { options.btns.map(btn => (\r\n                        <button key={ `btn-${ btn.code }` } type=\"button\" autoFocus={ BTN.CANCEL === btn.code }\r\n                          onClick={ () => $do[1](btn.code) } className={ `ml-1 btn btn-${ BTN.CANCEL === btn.code ? 'secondary'\r\n                              : 'CONFIRM' === options.type ? 'primary'\r\n                                : options.type.toLowerCase()\r\n                          }`}>\r\n\r\n                          { !btn.icon ? null : <i className={ `mr-2 ${btn.icon}` } /> }\r\n                          { !btn.text ? null : <Fmsg id={ btn.text } /> }\r\n                        </button>\r\n                      )) }\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Context.Provider>\r\n  );\r\n};\r\n\r\nexport default MessageBox;\r\nexport { useMessage };\r\n","import React, { FC } from 'react';\r\nimport { useIntl } from 'react-intl';\r\n\r\n// TODO: Types\r\ninterface IProps {\r\n  className?: string;\r\n  disableOnce?: boolean;\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n}\r\n\r\n// TODO: Components\r\nconst CycleDropdown: FC<IProps> = ({ value, onChange, className = '', disableOnce = false }) => {\r\n  const intl = useIntl();\r\n\r\n  return (\r\n    <select className={ `form-control ${ className }`} value={ value } onChange={\r\n      ({ target }) => onChange(target.value)\r\n    }>\r\n      { disableOnce ? null : (\r\n        <option value=\"once\">{ intl.messages.CYCLE_ONCE }</option>\r\n      )}\r\n      <option value=\"day\">{ intl.messages.CYCLE_DAY }</option>\r\n      <option value=\"month\">{ intl.messages.CYCLE_MONTH }</option>\r\n      <option value=\"year\">{ intl.messages.CYCLE_YEAR }</option>\r\n    </select>\r\n  );\r\n};\r\n\r\nexport default CycleDropdown;","import React, { FC, ReactNode } from 'react';\r\nimport { useIntl } from 'react-intl';\r\n\r\n\r\n// TODO: Types\r\ninterface IProps {\r\n  children?: ReactNode;\r\n  className?: string;\r\n  disableDeposit?: boolean;\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n}\r\n\r\n// TODO: Components\r\nconst TypeDropdown: FC<IProps> = ({\r\n  className = '',\r\n  disableDeposit = false,\r\n  children,\r\n  value,\r\n  onChange\r\n}) => {\r\n  const intl = useIntl();\r\n\r\n  return (\r\n    <select className={ `form-control ${ className }`} value={ value } onChange={\r\n      ({ target }) => onChange(target.value)\r\n    }>\r\n      { children }\r\n      <option value=\"income\">{ intl.messages.INCOME }</option>\r\n      <option value=\"expenses\">{ intl.messages.EXPENSES }</option>\r\n\r\n      { disableDeposit ? null : (\r\n        <option value=\"deposit\">{ intl.messages.DEPOSIT }</option>\r\n      )}\r\n    </select>\r\n  );\r\n};\r\n\r\nexport default TypeDropdown;\r\n","import React, { FC, ReactNode, Reducer, Dispatch, SetStateAction, MouseEvent, useCallback, useReducer, useEffect } from 'react';\r\nimport { FormattedMessage as Fmsg } from 'react-intl';\r\nimport uuidv4 from 'uuid/v4';\r\n\r\n\r\n// TODO: Types\r\nexport enum BTN {\r\n  DISMISS, CALLBACK\r\n}\r\n\r\ninterface IEventInput {\r\n  id: string;\r\n  isShow: boolean;\r\n  closeByBtn: boolean;\r\n  setModal: Dispatch<boolean>;\r\n  doCallback: (btn: BTN | symbol) => void | 'close';\r\n}\r\n\r\ninterface IModalState {\r\n  id: string;\r\n  setShow: Dispatch<SetStateAction<boolean>>;\r\n}\r\n\r\ninterface IProps {\r\n  className?: string;\r\n  closeByBtn?: boolean;\r\n  title?: string | { icon: string; text: string; };\r\n  children: ReactNode;\r\n  show: [ boolean, Dispatch<SetStateAction<boolean>> ],\r\n  doCallback?: (btn: BTN | symbol) => void | 'close';\r\n  btns?: {\r\n    text?: string;\r\n    code: BTN | symbol;\r\n    icon?: string;\r\n    color?: 'primary' | 'info' | 'success' | 'warning' | 'danger' | 'white' | 'light' | 'secondary' | 'dark';\r\n  }[];\r\n}\r\n\r\n// TODO: Events & Reducer\r\nconst useEvents = ({ id, isShow, setModal, closeByBtn, doCallback }: IEventInput) => {\r\n  useEffect(() => {\r\n    if (!$(`#${ id }`).is(':hidden') !== isShow)\r\n      setModal(isShow)\r\n  }, [ id, isShow, setModal ]);\r\n\r\n  return {\r\n    onClickMask: useCallback((e: MouseEvent) => {\r\n      const $el = $(e.target);\r\n\r\n      if ((!closeByBtn && $el.parents('div.modal-content').length === 0)\r\n      || $el.is('button.modal-btn') || $el.parents('button.modal-btn').length > 0) {\r\n        setModal(false);\r\n        doCallback(BTN.DISMISS);\r\n      }\r\n    }, [ setModal, closeByBtn, doCallback ]),\r\n\r\n    onClickFbar: useCallback((btn: BTN | symbol) => {\r\n      if ('close' === doCallback(btn) || BTN.DISMISS === btn)\r\n        setModal(false);\r\n    }, [ setModal, doCallback ])\r\n  };\r\n};\r\n\r\nconst modalReducer: Reducer<IModalState, boolean> = (state, isShow) => {\r\n  const { id, setShow } = state;\r\n\r\n  $(`#${ id }`).modal(isShow ? 'show' : 'hide');\r\n  setShow(isShow);\r\n\r\n  return state;\r\n};\r\n\r\n// TODO: Components\r\nconst BsModal: FC<IProps> = ({\r\n  className = '',\r\n  closeByBtn = false,\r\n  title = '',\r\n  btns = [],\r\n  show: [ isShow, setShow ],\r\n  children,\r\n  doCallback = () => { return 'close'; }\r\n}) => {\r\n  const [{ id }, setModal ] = useReducer(modalReducer, { id: uuidv4(), setShow });\r\n  const { onClickMask, onClickFbar } = useEvents({ id, isShow, setModal, closeByBtn, doCallback });\r\n\r\n  return (\r\n    <div className=\"modal\" id={ id } onClick={ onClickMask } data-backdrop={ closeByBtn ? 'static' : true } data-keyboard={ !closeByBtn }>\r\n      <div className=\"modal-dialog\">\r\n        <div className={ `modal-content ${ className } px-2` }>\r\n          { !title ? null : (({ text, icon = '' }: { text: string; icon?: string; }) =>\r\n            <div className=\"modal-header py-3\">\r\n              <h5 className=\"modal-title\">\r\n                { !icon ? null : (<i className={ `${ icon } mr-2` } />)}\r\n\r\n                <Fmsg tagName=\"strong\" id={ text } />\r\n              </h5>\r\n\r\n              <button type=\"button\" className=\"close text-white modal-btn\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n            </div>\r\n          )('string' === typeof title ? { text: title } : title)}\r\n\r\n          <div className=\"modal-body py-2\">{ children }</div>\r\n\r\n          { btns.length === 0 ? null : (\r\n            <div className=\"modal-footer pt-2\">\r\n              { btns.map(({ text = '', icon = '', color = '', code }) => (\r\n                <button type=\"button\" key={ 'symbol' === typeof code ? code.description : code } onClick={\r\n                  () => onClickFbar(code)\r\n                } className={\r\n                  `modal-btn btn btn-${ color ? color : BTN.DISMISS === code ? 'secondary' : 'primary' }`\r\n                }>\r\n                  { !icon ? null : <i className={ `${icon} mr-2` } /> }\r\n                  { !text ? null : <Fmsg id={ text } /> }\r\n                </button>\r\n              )) }\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BsModal;\r\n","import React, { FC, KeyboardEvent, ReactElement, useCallback } from 'react';\r\nimport { useIntl } from 'react-intl';\r\n\r\nimport { BsColor, getTextColor } from '../../@types/bs.types';\r\n\r\n\r\n// TODO: Types\r\ninterface IDropdownEventInput {\r\n  onSelect: (value: any) => void;\r\n}\r\n\r\ninterface IOptionEventInput extends IDropdownEventInput {\r\n  value: any;\r\n}\r\n\r\ninterface IOptionProps {\r\n  className?: string;\r\n  value: any;\r\n  icon?: string;\r\n  desc?: string;\r\n  disabled?: boolean;\r\n  onSelect?: (value: any) => void;\r\n}\r\n\r\ninterface IDropdownProps {\r\n  Toggle: ReactElement | string;\r\n  children?: ReactElement | ReactElement[];\r\n  color?: BsColor;\r\n  onSelect?: (value: any) => void;\r\n}\r\n\r\n// TODO: Events\r\nconst useOptionEvents = ({ value, onSelect }: IOptionEventInput) => {\r\n  return {\r\n    onSelectOption: useCallback(() => onSelect(value), [ value, onSelect ]),\r\n\r\n    onPressEnter: useCallback(({ key }: KeyboardEvent) => 'Enter' !== key ? null : onSelect(value), [ value, onSelect ])\r\n  };\r\n};\r\n\r\nconst useDropdownEvents = ({ onSelect }: IDropdownEventInput) => {\r\n  return {\r\n    onSelectOption: useCallback((value: any) => onSelect(value), [ onSelect ])\r\n  }\r\n};\r\n\r\n// TODO: Components\r\nexport const BsOption: FC<IOptionProps> = ({\r\n  className = '',\r\n  value,\r\n  icon,\r\n  desc = value,\r\n  disabled = false,\r\n  onSelect = () => {}\r\n}) => {\r\n  const intl = useIntl();\r\n  const { onSelectOption, onPressEnter } = useOptionEvents({ value, onSelect });\r\n\r\n  return (\r\n    <button type=\"button\" disabled={ disabled } className={ `dropdown-item ${ className }` }\r\n      onClick={ onSelectOption } onKeyPress={ onPressEnter }>\r\n\r\n      { !icon ? null : (<i className={ `${ icon } mr-2` } />)}\r\n      { desc in intl.messages ? intl.messages[ desc ] : desc }\r\n    </button>\r\n  );\r\n};\r\n\r\nconst BsDropdown: FC<IDropdownProps> = ({ Toggle, children = [], color = 'white', onSelect = () => {}}) => {\r\n  const options = Array.isArray(children) ? children : [ children ];\r\n  const { onSelectOption } = useDropdownEvents({ onSelect });\r\n\r\n  return (\r\n    <div className=\"dropdown\">\r\n      { 'string' !== typeof Toggle ? (\r\n        <Toggle.type {...{ ...Toggle.props, className: `${ Toggle.props.className || '' } dropdown-toggle` }} data-toggle=\"dropdown\" />\r\n      ) : (\r\n        <button type=\"button\" className={ `btn btn-${ color } dropdown-toggle` } data-toggle=\"dropdown\">\r\n          { Toggle }\r\n        </button>\r\n      )}\r\n\r\n      <div className={ `dropdown-menu w-100 bg-${ color } text-${ getTextColor(color) }` }>\r\n        { options.length === 0 ? <BsOption disabled value=\"OPTION_NOT_FOUND\" /> : options.map(opt =>\r\n          <BsOption key={ opt.key } {...{\r\n            ...opt.props,\r\n            onSelect: onSelectOption\r\n          }}  />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BsDropdown;\r\n","\r\nexport type BsColor = 'primary' | 'secondary' | 'success' | 'danger'\r\n| 'warning' | 'info' | 'light' | 'dark' | 'white';\r\n\r\nexport const getTextColor = (bgColor: BsColor): BsColor =>\r\n  [ 'warning', 'light', 'white' ].indexOf(bgColor) >= 0 ? 'dark' : 'white';\r\n","import React, {\r\n  FC,\r\n  Dispatch,\r\n  FormEvent,\r\n  ChangeEvent,\r\n  SetStateAction,\r\n  useState,\r\n  useCallback,\r\n  useEffect\r\n} from 'react';\r\n\r\nimport { useRecord } from '../../services/store/record';\r\n\r\nimport BsModal, { BTN } from '../modal';\r\nimport BsDropdown, { BsOption } from './BsDropdown';\r\n\r\n\r\n// TODO: Types\r\nconst SAVE_SYMBOL = Symbol('SAVE');\r\n\r\nexport type ShowModal = [ boolean, Dispatch<SetStateAction<boolean>> ];\r\n\r\ninterface IEventInput {\r\n  group: string;\r\n  setValue: (value: string) => void;\r\n  onChange: (value: string) => void;\r\n}\r\n\r\ninterface IProps {\r\n  show: ShowModal;\r\n  group: string;\r\n  onChange: (value: string) => void;\r\n}\r\n\r\n// TODO: Events\r\nconst useEvents = ({ group, setValue, onChange }: IEventInput) => {\r\n  const { dispatch } = useRecord();\r\n  const [ getGroup, setGroup ] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    if (!getGroup) dispatch({\r\n      action: 'GROUP',\r\n      success: () => setGroup(true)\r\n    });\r\n  }, [ getGroup, setGroup, dispatch ]);\r\n\r\n  return {\r\n    onFilterChange: useCallback(({ target: { value }}: ChangeEvent<HTMLInputElement>) => {\r\n      setValue(value);\r\n    }, [ setValue ]),\r\n\r\n    onSelectGroup: useCallback((value: any) => setValue(value as string), [ setValue ]),\r\n\r\n    onModalCallback: useCallback((btn: BTN | symbol) => {\r\n      if (SAVE_SYMBOL === btn)\r\n        onChange(group);\r\n    }, [ group, onChange ]),\r\n    \r\n    doStopSubmit: useCallback((e: FormEvent) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n\r\n      onChange(group);\r\n    }, [ group, onChange ])\r\n  };\r\n};\r\n\r\n// TODO: Components\r\nconst RecordGroup: FC<IProps> = ({ show, group, onChange }) => {\r\n  const [ value, setValue ] = useState(group);\r\n  const { store: { group: groups }} = useRecord();\r\n\r\n  const {\r\n    onFilterChange,\r\n    onSelectGroup,\r\n    onModalCallback,\r\n    doStopSubmit\r\n  } = useEvents({ group: value, setValue, onChange });\r\n\r\n  return (\r\n    <BsModal className=\"bg-secondary\" show={ show } closeByBtn title={{\r\n      icon: 'fa fa-object-ungroup',\r\n      text: 'TITLE_SET_GROUP'\r\n    }} btns={[\r\n      { code: BTN.DISMISS, icon: 'fa fa-ban', text: 'CANCEL' },\r\n      { code: SAVE_SYMBOL, icon: 'fa fa-download', text: 'CONFIRM' }\r\n    ]} doCallback={ onModalCallback }>\r\n      <form onSubmit={ doStopSubmit }>\r\n        <BsDropdown onSelect={ onSelectGroup } Toggle={\r\n          <input type=\"text\" className=\"form-control\" value={ value } onChange={ onFilterChange } />\r\n        }>\r\n          {(alloweds => alloweds.length === 0 ?\r\n            <BsOption value={ value } /> : alloweds.map($group =>\r\n              <BsOption key={ $group } value={ $group } />\r\n            )\r\n          )(groups.filter($group => $group.indexOf(value) >= 0))}\r\n        </BsDropdown>\r\n      </form>\r\n    </BsModal>\r\n  );\r\n}\r\n\r\nexport default RecordGroup;\r\n","module.exports = __webpack_public_path__ + \"static/media/404.bd332713.svg\";","module.exports = __webpack_public_path__ + \"static/media/cash-logo.cb5cc733.svg\";","var map = {\n\t\"./en.json\": [\n\t\t59,\n\t\t1\n\t],\n\t\"./zh.json\": [\n\t\t60,\n\t\t2\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 52;\nmodule.exports = webpackAsyncContext;","import React, {\r\n  FC,\r\n  Reducer,\r\n  Dispatch,\r\n  ReactNode,\r\n  createContext,\r\n  useState,\r\n  useReducer,\r\n  useMemo,\r\n  useContext\r\n} from 'react';\r\n\r\nimport { IntlProvider } from 'react-intl';\r\n\r\n\r\n// TODO: Types\r\nexport enum LANG { DEFAULT, EN, ZH }\r\n\r\ninterface IMessages { [message: string]: string; }\r\n\r\ninterface IMsgOptions { locale: string; messages: IMessages; }\r\n\r\ninterface IImportJSON { default: IMessages; }\r\n\r\ninterface IContext { locale: string; setLang: Dispatch<LANG> }\r\n\r\n\r\n// TODO: Variables & Reducer\r\nconst defintl = import('../assets/i18n/en.json').then(({ default: messages }: IImportJSON): IMsgOptions => ({\r\n  locale: 'en',\r\n  messages\r\n}));\r\n\r\nconst useI18n = () => useContext(Context);\r\n\r\nconst reducer: Reducer<Promise<IMsgOptions>, LANG> = (state, action: LANG) => {\r\n  switch (action) {\r\n    case LANG.EN: return defintl.then(res => {\r\n      localStorage.setItem('CASH_MAP_LANG', 'en');\r\n\r\n      return res;\r\n    });\r\n    case LANG.ZH: return import('../assets/i18n/zh.json').then(({ default: messages }: IImportJSON): IMsgOptions => {\r\n      localStorage.setItem('CASH_MAP_LANG', 'zh');\r\n\r\n      return { locale: 'zh', messages };\r\n    });\r\n    default: return ((locale: string) => {\r\n      locale = locale.substring(0, locale.indexOf('-') > 0 ? locale.indexOf('-') : undefined);\r\n\r\n      return import(`../assets/i18n/${locale}.json`).then(({ default: messages }: IImportJSON): IMsgOptions => {\r\n        localStorage.setItem('CASH_MAP_LANG', locale);\r\n\r\n        return { locale, messages };\r\n      }).catch(() => defintl);\r\n    })(localStorage.getItem('CASH_MAP_LANG') || navigator.language.toLowerCase());\r\n  }\r\n};\r\n\r\n\r\n// TODO: Components\r\nconst Context = createContext<IContext>({ locale: 'en', setLang: () => {} });\r\n\r\nconst I18n: FC<{ children: ReactNode; }> = ({ children }) => {\r\n  const [{ locale, messages }, setMessages ] = useState<IMsgOptions>({ locale: 'en', messages: {} });\r\n  const [ promise, setLang ] = useReducer(reducer, defintl);\r\n  const hasMessages = Object.keys(messages).length > 0;\r\n\r\n  promise.then(msg => JSON.stringify(msg) === JSON.stringify(messages) ? null : setMessages(msg));\r\n\r\n  useMemo(() => hasMessages ? null : setLang(LANG.DEFAULT), [ hasMessages ]);\r\n\r\n  return !hasMessages ? null : (\r\n    <IntlProvider {...{ locale, messages }}>\r\n      <Context.Provider value={{ locale, setLang }}>\r\n        { children }\r\n      </Context.Provider>\r\n    </IntlProvider>\r\n  );\r\n}\r\n\r\nexport default I18n;\r\n\r\nexport {\r\n  useI18n\r\n}\r\n","import React, { FC, ReactNode } from 'react';\r\nimport { MessageFormatElement } from 'intl-messageformat-parser';\r\n\r\ninterface IInlineGroupProps {\r\n  label?: string | MessageFormatElement[];\r\n  labelWidth?: number | string;\r\n  className?: string;\r\n  children?: ReactNode;\r\n}\r\n\r\nexport const BsInlineGroup: FC<IInlineGroupProps> = ({ label = '', labelWidth = 'auto', className = '', children }) => {\r\n  return (\r\n    <div className={[ 'input-group', className ].join(' ')}>\r\n      { !label ? null : (\r\n        <div className=\"input-group-prepend\">\r\n          <div className=\"input-group-text justify-content-end\" style={{ width: labelWidth }}>{ label }</div>\r\n        </div>\r\n      )}\r\n\r\n      { children }\r\n    </div>\r\n  );\r\n};\r\n","import React, { FC, useCallback, useState } from 'react';\r\nimport { useIntl } from 'react-intl';\r\nimport { Link } from 'react-router-dom';\r\nimport Numeral from 'numeral';\r\n\r\nimport { useLoading } from '../../services/loading';\r\nimport { BTN, useMessage } from '../../services/message';\r\nimport { IRecordData, useRecord } from '../../services/store/record';\r\n\r\nimport RecordGroup, { ShowModal } from '../editor/RecordGroup';\r\n\r\n\r\n// TODO: Types\r\ninterface IEventInput {\r\n  record: IRecordData;\r\n  showGroup: ShowModal;\r\n}\r\n\r\n// TODO: Events\r\nconst useEvents = ({ record, showGroup }: IEventInput) => {\r\n  const { isLoading, Loading } = useLoading();\r\n  const { Message } = useMessage();\r\n  const { dispatch } = useRecord();\r\n\r\n  return {\r\n    onSlide: useCallback((turnon: boolean) => dispatch({\r\n      action: 'UPDATE',\r\n      params: { ...record, status: turnon ? 'actual' : 'expected' }\r\n    }), [ record, dispatch ]),\r\n\r\n    onOpenGroup: useCallback(() => showGroup[1](true), [ showGroup ]),\r\n\r\n    doUpdateGroup: useCallback((value: string) => isLoading ? null : Loading({\r\n      show: true,\r\n      callbackFn: () => dispatch({\r\n        action: 'UPDATE',\r\n        params: { ...record, group: value || '' },\r\n        fail: (e: Error) => Loading({\r\n          show: false,\r\n          callbackFn: () => Message({ type: 'DANGER', content: e.message })\r\n        }),\r\n        success: () => Loading({\r\n          show: false,\r\n          callbackFn: () => Message({ type: 'INFO', content: 'MSG_SAVE_SUCCESS' })\r\n        })\r\n      })\r\n    }), [ Loading, Message, dispatch, isLoading, record ]),\r\n\r\n    doRemove: useCallback(() => Message({\r\n      type    : 'CONFIRM',\r\n      title   : 'MSG_CONFIRM_TITLE',\r\n      icon    : 'fa fa-question',\r\n      content : 'MSG_REMOVE_QUESTION',\r\n      handler : btn => BTN.CONFIRM !== btn ? null : Loading({\r\n        show: true,\r\n        callbackFn: () => dispatch({\r\n          action: 'REMOVE',\r\n          params: record,\r\n          fail: (e: Error) => Loading({\r\n            show: false,\r\n            callbackFn: () => Message({ type: 'DANGER', content: e.message })\r\n          }),\r\n          success: () => Loading({\r\n            show: false,\r\n            callbackFn: () => Message({ type: 'INFO', content: 'MSG_REMOVE_SUCCESS' })\r\n          })\r\n        })\r\n      })\r\n    }), [ Loading, Message, dispatch, record ])\r\n  };\r\n}\r\n\r\n// TODO: Components\r\nconst AmountSlidebar: FC<{ record: IRecordData; }> = ({ record }) => {\r\n  const intl = useIntl();\r\n  const showGroup = useState<boolean>(false);\r\n  const { onSlide, onOpenGroup, doUpdateGroup, doRemove } = useEvents({ record, showGroup });\r\n\r\n  return (\r\n    <div className=\"form-group amount-slidebar\">\r\n      { !showGroup[0] ? null : (\r\n        <RecordGroup show={ showGroup } group={ record.group || '' } onChange={ doUpdateGroup } />\r\n      )}\r\n\r\n      <div className=\"media\">\r\n        <div className=\"btn-group-vertical\">\r\n          <Link className=\"mr-3 btn btn-link text-info\" to={ `/update/${ record.uid }` }>\r\n            <i className=\"fa fa-pencil\" />\r\n          </Link>\r\n\r\n          <button type=\"button\" className=\"btn btn-link text-warning\" onClick={ onOpenGroup }>\r\n            <i className=\"fa fa-object-ungroup\" />\r\n          </button>\r\n        </div>\r\n        \r\n        <span className=\"media-body py-2\">\r\n          <h4>{ record.desc }</h4>\r\n          $ { Numeral(record.amount).format('0,0') } / { intl.messages[`CYCLE_${ (record.cycle || '').toUpperCase() }`] }\r\n        </span>\r\n\r\n        <button type=\"button\" className=\"btn btn-link text-white mt-2\" onClick={ doRemove }>\r\n          <i className=\"fa fa-trash-o\" />\r\n        </button>\r\n      </div>\r\n\r\n      <input type=\"range\" className={ `custom-range ${ record.type  }` } min=\"0\" max=\"1\"\r\n        value={ 'actual' === record.status ? 1 : 0 } onChange={({ target: { value }}) => onSlide(value === '1')} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AmountSlidebar;\r\n","import React, { Dispatch, SetStateAction, FC, useState, useCallback, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FormattedMessage as Fmsg, useIntl } from 'react-intl';\r\nimport Numeral from 'numeral';\r\n\r\nimport { useLoading } from '../services/loading';\r\nimport { BTN, useMessage } from '../services/message';\r\nimport { ISummary, IRecordData, useRecord } from '../services/store/record';\r\n\r\nimport { BsContainer, BsRow, BsCol } from './grid';\r\nimport { BsInlineGroup } from './form';\r\n\r\nimport CycleDropdown from './editor/CycleDropdown';\r\nimport TypeDropdown from './editor/TypeDropdown';\r\nimport AmountSlidebar from './toolbar/AmountSlidebar';\r\n\r\n\r\n// TODO: Types\r\ninterface IEventInput {\r\n  setFilter: Dispatch<SetStateAction<string>>;\r\n}\r\n\r\n\r\n// TODO: Events\r\nconst useEvents = ({ setFilter }: IEventInput) => {\r\n  const { Loading } = useLoading();\r\n  const { Message } = useMessage();\r\n  const { dispatch } = useRecord();\r\n\r\n  useEffect(() => dispatch({ action: 'LIST' }), [ dispatch ]);\r\n\r\n  return {\r\n    onCycleChange: useCallback((value: 'day' | 'month' | 'year') => dispatch({\r\n      action: 'SUMMARY',\r\n      params: { cycle: value }\r\n    }), [ dispatch ]),\r\n    \r\n    onFilterChange: useCallback((value: string) => {\r\n      setFilter(value);\r\n      dispatch({ action: 'LIST', params: { type: 'all' === value ? '' : value }})\r\n    }, [ dispatch, setFilter ]),\r\n\r\n    doClear: useCallback(() => Message({\r\n      type    : 'CONFIRM',\r\n      title   : 'MSG_CONFIRM_TITLE',\r\n      icon    : 'fa fa-question',\r\n      content : 'MSG_CLEAR_QUESTION',\r\n      handler : btn => BTN.CONFIRM !== btn ? null : Loading({\r\n        show: true,\r\n        callbackFn: () => dispatch({\r\n          action: 'CLEAR',\r\n          fail: (e: Error) => Loading({\r\n            show: false,\r\n            callbackFn: () => Message({ type: 'DANGER', content: e.message })\r\n          }),\r\n          success: () => Loading({\r\n            show: false,\r\n            callbackFn: () => Message({ type: 'INFO', content: 'MSG_REMOVE_SUCCESS' })\r\n          })\r\n        })\r\n      })\r\n    }), [ Loading, Message, dispatch ])\r\n  }\r\n};\r\n\r\n// TODO: Component - Summary Dashboard\r\nconst SummaryDashboard: FC<{\r\n  summary: ISummary;\r\n  cycle: 'day' | 'month' | 'year';\r\n  onCycleChange: (value: 'day' | 'month' | 'year') => void\r\n}> = ({ summary, cycle, onCycleChange }) => {\r\n  const intl = useIntl();\r\n  const labelWidth = 'zh' === intl.locale ? 60 : 110;\r\n  const [ expanded, setExpanded ] = useState<boolean>(false);\r\n\r\n  const doCollapse = useCallback(() => setExpanded(!expanded), [ expanded, setExpanded ]);\r\n\r\n  return (\r\n    <fieldset className={ `summary-dashboard shadow ${ expanded ? 'sd-expand' : 'sd-collapse' }` }>\r\n      <legend>\r\n        <button type=\"button\" className=\"btn btn-link\" onClick={ doCollapse }>\r\n          <i className={ `mr-2 fa fa-${ expanded ? 'minus' : 'plus' }-square-o` } />\r\n          { intl.messages.SUMMARY } ({ intl.messages[ `CYCLE_${ cycle.toUpperCase() }` ] })\r\n        </button>\r\n      </legend>\r\n\r\n      { !expanded ? (\r\n        <BsContainer tagName=\"form\">\r\n          <BsRow className=\"text-right\">\r\n            <BsCol className=\"form-group\">\r\n              <Fmsg tagName=\"label\" id=\"APPLICABLE\" />\r\n              <span className=\"d-block\">$ { Numeral(summary.applicable).format('0,0') }</span>\r\n            </BsCol>\r\n\r\n            <BsCol className=\"form-group\">\r\n              <Fmsg tagName=\"label\" id=\"DEPOSIT\" />\r\n              <span className=\"d-block\">$ { Numeral(summary.deposit).format('0,0') }</span>\r\n            </BsCol>\r\n          </BsRow>\r\n        </BsContainer>\r\n      ) : (\r\n        <BsContainer tagName=\"form\">\r\n          <BsRow>\r\n            <BsCol className=\"form-group\" width={{ sm: 6 }}>\r\n              <Fmsg tagName=\"label\" id=\"VIEW_CYCLE\" />\r\n\r\n              <CycleDropdown value={ cycle } disableOnce onChange={\r\n                value => onCycleChange(value as 'day' | 'month' | 'year')\r\n              } />\r\n            </BsCol>\r\n          </BsRow>\r\n\r\n          <BsRow>\r\n            <BsCol width={{ def: 12, sm: 6 }}>\r\n              <BsInlineGroup label={ intl.messages.INCOME } labelWidth={ labelWidth }>\r\n                <span className=\"form-control text-right\">$ { Numeral(summary.income).format('0,0') }</span>\r\n              </BsInlineGroup>\r\n            </BsCol>\r\n\r\n            <BsCol width={{ def: 12, sm: 6 }}>\r\n              <BsInlineGroup label={ intl.messages.EXPENSES } labelWidth={ labelWidth }>\r\n                <span className=\"form-control text-right\">$ { Numeral(summary.expenses).format('0,0') }</span>\r\n              </BsInlineGroup>\r\n            </BsCol>\r\n\r\n            <BsCol width={{ def: 12, sm: 6 }}>\r\n              <BsInlineGroup label={ intl.messages.DEPOSIT } labelWidth={ labelWidth }>\r\n                <span className=\"form-control text-right\">$ { Numeral(summary.deposit).format('0,0') }</span>\r\n              </BsInlineGroup>\r\n            </BsCol>\r\n\r\n            <BsCol width={{ def: 12, sm: 6 }}>\r\n              <BsInlineGroup label={ intl.messages.APPLICABLE } labelWidth={ labelWidth }>\r\n                <span className=\"form-control text-right\">$ { Numeral(summary.applicable).format('0,0') }</span>\r\n              </BsInlineGroup>\r\n            </BsCol>\r\n          </BsRow>\r\n        </BsContainer>\r\n      )}\r\n    </fieldset>\r\n  );\r\n};\r\n\r\n// TODO: Component - Group Collapse\r\nconst GroupCollapse: FC<{ groupName?: string; list: IRecordData[]; }> = ({ groupName = 'UNGROUP', list }) => {\r\n  const intl = useIntl();\r\n  const [ expanded, setExpanded ] = useState<boolean>(true);\r\n  const doCollapse = useCallback(() => setExpanded(!expanded), [ expanded, setExpanded ]);\r\n\r\n  return (\r\n    <BsContainer margin={{ y: 3 }}>\r\n      <fieldset className=\"group-title border-top border-warning col-12 col-sm-8 col-md-6\">\r\n        <legend>\r\n          <button type=\"button\" className=\"btn btn-link text-warning\" onClick={ doCollapse }>\r\n            <i className={ `mr-2 fa fa-${ expanded ? 'minus' : 'plus' }-square-o` } />\r\n            { 'UNGROUP' === groupName ? intl.messages.UNGROUP : groupName }\r\n          </button>\r\n        </legend>\r\n      </fieldset>\r\n\r\n      { !expanded ? null : list.map((record, i) =>\r\n        <BsRow key={`record-${ record.uid }`} align=\"center\">\r\n          <BsCol width={{ def: 12, sm: 10, lg: 8 }} margin={{ t: 3, b: 1 }} border={\r\n            i === (list.length - 1) ? false : { b: true }\r\n          }>\r\n            <AmountSlidebar record={ record } />\r\n          </BsCol>\r\n        </BsRow>\r\n      )}\r\n    </BsContainer>\r\n  );\r\n};\r\n\r\n// TODO: Component - APP\r\nconst App: FC = () => {\r\n  const intl = useIntl();\r\n  const [ filter, setFilter ] = useState('all');\r\n  const { store: { summary, list } } = useRecord();\r\n  const { onCycleChange, onFilterChange, doClear } = useEvents({ setFilter });\r\n\r\n  return (\r\n    <div>\r\n      <SummaryDashboard summary={ summary } cycle={ summary.cycle } onCycleChange={ onCycleChange } />\r\n\r\n      { Object.keys(list).map(group =>\r\n        <GroupCollapse key={ group } groupName={ group } list={ list[group] } />\r\n      )}\r\n\r\n      <BsContainer className=\"list-fbar\">\r\n        <BsRow padding={{ t: 3 }}>\r\n          <BsCol className=\"form-group\">\r\n            <Fmsg tagName=\"label\" id=\"FILTER_MAINTAIN\" />\r\n\r\n            <BsInlineGroup>\r\n              <Link className=\"btn btn-primary\" to=\"/append\">\r\n                <i className=\"fa fa-plus mr-2\" /> { intl.messages.APPEND_RECORD }\r\n              </Link>\r\n\r\n              <TypeDropdown className=\"rounded mx-2\" value={ filter } onChange={ onFilterChange }>\r\n                <option value=\"all\">{ intl.messages.ALL_OPTION }</option>\r\n              </TypeDropdown>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger\" onClick={ doClear }>\r\n                <i className=\"fa fa-remove mr-2\" /> { intl.messages.CLEAR }\r\n              </button>\r\n            </BsInlineGroup>\r\n          </BsCol>\r\n        </BsRow>\r\n      </BsContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React, { Component, FC, useEffect, useCallback } from 'react';\r\nimport { FormattedMessage as Fmsg } from 'react-intl';\r\nimport { RouteProps, RouteComponentProps } from 'react-router-dom';\r\n\r\nimport { useLoading } from './loading';\r\n\r\nimport { BsContainer, BsRow, BsCol } from '../components/grid';\r\nimport App from '../components/App';\r\n\r\nimport error404 from '../assets/imgs/404.svg';\r\n\r\n\r\n// TODO: Types\r\ninterface ILoadable {\r\n  loading?: FC;\r\n  loader: () => Promise<{\r\n    default: FC<RouteComponentProps<any>>;\r\n  }>;\r\n}\r\n\r\ninterface IRouter extends RouteProps {\r\n  text?: string;\r\n  icon?: string;\r\n}\r\n\r\n// TODO: 404 Page Not Found\r\nconst PageNotFound: FC = () => {\r\n  const goBack = useCallback(() => window.history.back(), []);\r\n\r\n  return (\r\n    <BsContainer className=\"not-found-404\">\r\n      <BsRow align=\"center\">\r\n        <BsCol width={{ def: 12, sm: 6, md: 4 }}>\r\n          <img className=\"img-fluid\" src={error404} alt=\"404\" />\r\n        </BsCol>\r\n      </BsRow>\r\n\r\n      <BsRow align=\"center\">\r\n        <BsCol className=\"text-center\">\r\n          <button type=\"button\" className=\"btn btn-lg btn-link\" onClick={goBack}>\r\n            <Fmsg id=\"BACK_TO_PREV_PAGE\" />\r\n          </button>\r\n        </BsCol>\r\n      </BsRow>\r\n    </BsContainer>\r\n  );\r\n};\r\n\r\n// TODO: Loading Mask\r\nconst LoadingMask: FC = () => {\r\n  const { Loading } = useLoading();\r\n\r\n  useEffect(() => {\r\n    Loading({ show: true });\r\n\r\n    return () => Loading({ show: false })\r\n  }, [ Loading ]);\r\n  return null;\r\n};\r\n\r\n// TODO: Loadable\r\nconst Loadable = ({ loader, loading = LoadingMask }: ILoadable) => class LoadableComponent extends Component<\r\n  RouteComponentProps<any>,\r\n  { Route: FC<RouteComponentProps<any>>; }\r\n> {\r\n  state = { Route: loading };\r\n\r\n  constructor(props: RouteComponentProps<any>) {\r\n    super(props);\r\n    loader().then(({ default: component }) => this.setState({ Route: component }));\r\n  }\r\n\r\n  render() {\r\n    const { Route } = this.state;\r\n\r\n    return (\r\n      <Route { ...this.props } />\r\n    );\r\n  }\r\n};\r\n  \r\n\r\n// TODO: Router Options\r\nconst router: IRouter[] = [{\r\n  path: '/',\r\n  exact: true,\r\n  component: App\r\n}, {\r\n  path: '/append',\r\n  text: 'APPEND_RECORD',\r\n  icon: 'fa fa-plus',\r\n  component: Loadable({\r\n    loader: () => import('../components/EditRecord'),\r\n    loading: LoadingMask\r\n  })\r\n}, {\r\n  path: '/update/:uid',\r\n  text: 'UPDATE_RECORD',\r\n  component: Loadable({\r\n    loader: () => import('../components/EditRecord'),\r\n    loading: LoadingMask\r\n  })\r\n}, {\r\n  component: PageNotFound\r\n}];\r\n\r\nexport default router;\r\n","import React, { FC, useRef, useCallback } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { useI18n, LANG } from '../../services/i18n';\r\n\r\nimport Logo from '../../assets/imgs/cash-logo.svg';\r\n\r\n\r\n// TODO: Events\r\nconst useEvents = () => {\r\n  const { setLang } = useI18n();\r\n\r\n  return {\r\n    asEnglish: useCallback(() => setLang(LANG.EN), [ setLang ]),\r\n    asChinese: useCallback(() => setLang(LANG.ZH), [ setLang ])\r\n  };\r\n};\r\n\r\n// TODO: Components\r\nconst MainHeader: FC = () => {\r\n  const dropdown = useRef(null);\r\n  const { asEnglish, asChinese } = useEvents();\r\n\r\n  return (\r\n    <nav className=\"main-header navbar navbar-expand navbar-dark bg-dark text-secondary border-bottom border-white\">\r\n      <Link className=\"navbar-brand text-white\" to=\"/\">\r\n        <img className=\"rounded-circle\" src={ Logo } alt=\"Logo\" />\r\n      </Link>\r\n      \r\n      <div className=\"collapse navbar-collapse\">\r\n        <ul className=\"lang-dropdown navbar-nav ml-auto\">\r\n          <li ref={ dropdown } className=\"nav-item dropdown\">\r\n            <button type=\"button\" className=\"btn btn-link nav-link dropdown-toggle\" data-toggle=\"dropdown\">\r\n              <i className=\"fa fa-language mr-2\" />\r\n            </button>\r\n\r\n            <div className=\"dropdown-menu dropdown-menu-right\">\r\n              <button type=\"button\" className=\"dropdown-item\" onClick={ asEnglish }>English</button>\r\n              <button type=\"button\" className=\"dropdown-item\" onClick={ asChinese }>繁體中文</button>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MainHeader;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport uuidv4 from 'uuid/v4';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\n\nimport $ from 'jquery';\nimport 'hammerjs';\nimport 'popper.js';\n\nimport I18n from './services/i18n';\nimport LoadingMask from './services/loading';\nimport MessageBox from './services/message';\nimport RecordStore from './services/store/record';\nimport routers from './services/router';\n\nimport MainHeader from './components/toolbar/MainHeader';\n\nimport * as serviceWorker from './serviceWorker';\n\nimport './assets/css/main.scss';\n\n\n(window as any).$ = $;\n\nimport('bootstrap').then(() => {\n  ReactDOM.render((\n    <I18n>\n      <LoadingMask>\n        <MessageBox>\n          <HashRouter>\n            <MainHeader />\n\n            <div className=\"cash-map-app\">\n              <RecordStore>\n                <Switch>\n                  { routers.map(options => <Route key={uuidv4()} {...options} />) }\n                </Switch>\n              </RecordStore>\n            </div>\n          </HashRouter>\n        </MessageBox>\n      </LoadingMask>\n    </I18n>\n  ), document.getElementById('root'));\n\n  // If you want your app to work offline and load faster, you can change\n  // unregister() to register() below. Note this comes with some pitfalls.\n  // Learn more about service workers: https://bit.ly/CRA-PWA\n  serviceWorker.unregister();\n});\n"],"sourceRoot":""}
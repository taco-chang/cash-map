(window["webpackJsonpcash-map"]=window["webpackJsonpcash-map"]||[]).push([[4],{18:function(e,t,n){"use strict";n.d(t,"b",function(){return o});var a=n(5),r=n(0),c=n.n(r),o=function(){return Object(r.useContext)(i)},i=Object(r.createContext)({isLoading:!1,Loading:function(){}});t.a=function(e){var t=e.children,n=Object(r.useState)({show:!1}),o=Object(a.a)(n,2),u=o[0],l=u.show,s=u.callbackFn,d=o[1];return Object(r.useEffect)(function(){s instanceof Function&&s()},[s]),c.a.createElement(i.Provider,{value:{isLoading:l,Loading:d}},l?c.a.createElement("div",{className:"loading-mask"}):null,t)}},20:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"c",function(){return b});var a=n(5),r=n(7),c=n(3),o=n(15),i=n.n(o),u=n(0),l=n.n(u);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m,f=Symbol("DISPATCH");!function(e){e[e.CONFIRM=0]="CONFIRM",e[e.CANCEL=1]="CANCEL"}(m||(m={}));var b=function(){return Object(u.useContext)(O)},p=function(e,t){switch(typeof t){case"object":return{options:d({},t,{btns:"CONFIRM"!==t.type?[{text:"CHECK_IT",code:m.CONFIRM,icon:"fa fa-check"}]:[{text:"CANCEL",code:m.CANCEL,icon:"fa fa-ban"},{text:"CONFIRM",code:m.CONFIRM,icon:"fa fa-check"}]})};case"number":return e.options&&(clearTimeout(e.options.timeout),e.options.handler instanceof Function&&e.options.handler(t)),{}}return e},h=function(e,t){switch(typeof t){case"number":e(t);break;case"object":var n=t.type,a=t.timeout,r=void 0===a?null:a;e(d({},t,{uid:i()(),timeout:"CONFIRM"===n?void 0:window.setTimeout(function(){return e(m.CANCEL)},r||2e3)}))}return e},O=Object(u.createContext)(Object(r.a)({Message:function(){}},f,function(){}));t.b=function(e){var t=e.children,n=Object(u.useReducer)(p,{}),o=Object(a.a)(n,2),i=o[0].options,s=o[1],d=Object(u.useReducer)(h,s),b=function(e){return Object(u.useEffect)(function(){e?$("#".concat(e.uid)).modal("show"):$("div.modal-backdrop").remove()},[e]),{onClickMask:Object(u.useCallback)(function(e){$(e.target).parents("div.alert").length>0&&(e.preventDefault(),e.stopPropagation())},[])}}(i).onClickMask;return l.a.createElement(O.Provider,{value:Object(r.a)({options:i,Message:d[1]},f,s)},t,i?l.a.createElement("div",{className:"modal message-modal",id:i.uid,onClick:b},l.a.createElement("div",{className:"modal-dialog"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"alert alert-".concat("CONFIRM"===i.type?"primary":i.type.toLowerCase())},l.a.createElement("div",{className:"media"},i.icon?l.a.createElement("i",{className:"mr-3 ".concat(i.icon)}):null,l.a.createElement("div",{className:"media-body"},i.title?l.a.createElement("h5",{className:"mt-0"},l.a.createElement(c.a,{tagName:"strong",id:i.title})):null,l.a.createElement(c.a,{tagName:"p",id:i.content}),l.a.createElement("div",{className:"d-flex justify-content-end"},i.btns.map(function(e){return l.a.createElement("button",{key:"btn-".concat(e.code),type:"button",autoFocus:m.CANCEL===e.code,onClick:function(){return d[1](e.code)},className:"ml-1 btn btn-".concat(m.CANCEL===e.code?"secondary":"CONFIRM"===i.type?"primary":i.type.toLowerCase())},e.icon?l.a.createElement("i",{className:"mr-2 ".concat(e.icon)}):null,e.text?l.a.createElement(c.a,{id:e.text}):null)})))))))):null)}},24:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(0),r=n.n(a),c=function(e){var t=e.label,n=void 0===t?"":t,a=e.labelWidth,c=void 0===a?"auto":a,o=e.className,i=void 0===o?"":o,u=e.children;return r.a.createElement("div",{className:["input-group",i].join(" ")},n?r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text justify-content-end",style:{width:c}},n)):null,u)}},27:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(5),r=n(0),c=n.n(r),o=n(9),i=n(37),u=n(33),l=Symbol("SAVE"),s=function(e){var t=e.show,n=e.className,a=void 0===n?"":n,o=e.icon,i=void 0===o?"fa fa-object-ungroup":o,u=e.onToggle,l=void 0===u?function(){}:u,s=Object(r.useCallback)(function(){t[1](!0),l()},[t,l]);return c.a.createElement("button",{type:"button",className:a,onClick:s},c.a.createElement("i",{className:i}))},d=function(e){var t,n=e.show,s=e.group,d=e.onChange,m=Object(r.useState)(s),f=Object(a.a)(m,2),b=f[0],p=f[1],h=Object(o.e)().group,O=function(e){var t=e.group,n=e.setValue,a=e.onChange,c=Object(o.e)().dispatch;return{onFilterChange:Object(r.useCallback)(function(e){var t=e.target.value;n(t)},[n]),onSelectGroup:Object(r.useCallback)(function(e){return n(e)},[n]),onModalCallback:Object(r.useCallback)(function(e){l===e&&a(t)},[t,a]),doLoadGroupsOnOpen:Object(r.useCallback)(function(){return c({action:"GROUP"})},[c]),doStopSubmit:Object(r.useCallback)(function(e){e.preventDefault(),e.stopPropagation(),a(t)},[t,a])}}({group:b,setValue:p,onChange:d}),v=O.onFilterChange,g=O.onSelectGroup,E=O.onModalCallback,y=O.doLoadGroupsOnOpen,j=O.doStopSubmit;return c.a.createElement(i.b,{className:"bg-secondary",show:n,closeByBtn:!0,title:{icon:"fa fa-object-ungroup",text:"TITLE_SET_GROUP"},btns:[{code:i.a.DISMISS,icon:"fa fa-ban",text:"CANCEL"},{code:l,icon:"fa fa-download",text:"CONFIRM"}],onShowBsModal:y,doCallback:E},c.a.createElement("form",{onSubmit:j},c.a.createElement(u.b,{onSelect:g,Toggle:c.a.createElement("input",{type:"text",className:"form-control",value:b,onChange:v})},0===(t=h.filter(function(e){return e.indexOf(b)>=0})).length?c.a.createElement(u.a,{value:b}):t.map(function(e){return c.a.createElement(u.a,{key:e,value:e})}))))};t.b=function(e){return Object(a.a)(e.show,1)[0]?c.a.createElement(d,e):null}},31:function(e,t,n){"use strict";var a=n(5),r=n(0),c=n.n(r),o=n(6),i=n(15),u=n.n(i),l=function(e){return localStorage.setItem("FIREBASE_KEY",JSON.stringify(e)),s()},s=function(){return localStorage.getItem("FIREBASE_KEY")||l([{uid:p(),desc:"MY_RECORD"}]),JSON.parse(localStorage.getItem("FIREBASE_KEY")||"[]")},d=function(e){return l([].concat(Object(o.a)(s()),[e]))},m=function(e){return l(s().map(function(t){return t.uid===e.uid?e:t}))},f=function(e){return l(s().filter(function(t){return t.uid!==e.uid}))},b=function(e){return localStorage.setItem("CASH_MAP_KEY",e),e},p=function(){return localStorage.getItem("CASH_MAP_KEY")||localStorage.setItem("CASH_MAP_KEY",u()()),localStorage.getItem("CASH_MAP_KEY")||""},h=function(e,t){var n=t.action,a=t.source,r=t.switchTo,c=e.current,o=e.list;switch(n){case"LIST":return{current:c,list:s()};case"SWITCH":if(!r)throw new Error('If you wanna switch the data source, please input the key at "switchTo".');return{current:b(r||"")||"",list:o};default:if(!a)throw new Error("If you wanna override data, the source can't be empty.");switch(n){case"CREATE":return{list:d(a),current:b(a.uid)};case"UPDATE":return{current:c,list:m(a)};case"REMOVE":return{list:f(a),current:a.uid!==c?c:o.reduce(function(e,t){var n=t.uid;return"MY_RECORD"===t.desc?n:e},"")}}}return e};n(64);n.d(t,"b",function(){return O});var O=function(){return Object(r.useContext)(v)},v=Object(r.createContext)({sourceKey:p(),sources:[],dispatch:function(){}});t.a=function(e){var t=e.children,n=Object(r.useState)(p()),o=Object(a.a)(n,2),i=o[0],u=o[1],l=Object(r.useReducer)(h,{current:p(),list:s()}),d=Object(a.a)(l,2),m=d[0],f=m.current,b=m.list,O=d[1];return Object(r.useEffect)(function(){i!==f&&u(f)},[i,f,u]),i!==f?null:c.a.createElement(v.Provider,{value:{sourceKey:f,sources:b,dispatch:O}},t)}},33:function(e,t,n){"use strict";var a=n(7),r=n(0),c=n.n(r),o=n(3),i=n(24);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){Object(a.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,"a",function(){return s});var s=function(e){var t=e.className,n=void 0===t?"":t,a=e.value,u=e.icon,l=e.desc,s=void 0===l?a:l,d=e.disabled,m=void 0!==d&&d,f=e.children,b=e.onSelect,p=void 0===b?function(){}:b,h=Object(o.c)(),O=function(e){var t=e.value,n=e.disabled,a=e.onSelect;return{onSelectOption:Object(r.useCallback)(function(){return n?null:a(t)},[t,n,a]),onPressEnter:Object(r.useCallback)(function(e){return"Enter"!==e.key?null:a(t)},[t,a])}}({value:a,disabled:m,onSelect:p}),v=O.onSelectOption,g=O.onPressEnter;return c.a.createElement(i.a,null,c.a.createElement("button",{type:"button",disabled:m,className:"dropdown-item form-control ".concat(n),onClick:v,onKeyPress:g},u?c.a.createElement("i",{className:"".concat(u," mr-2")}):null,s in h.messages?h.messages[s]:s),f)};t.b=function(e){var t,n=e.Toggle,a=e.children,i=void 0===a?[]:a,u=e.color,d=void 0===u?"light":u,m=e.onSelect,f=void 0===m?function(){}:m,b=Object(o.c)(),p=Array.isArray(i)?i:[i],h=function(e){var t=e.onSelect;return{onSelectOption:Object(r.useCallback)(function(e){return t(e)},[t])}}({onSelect:f}).onSelectOption;return c.a.createElement("div",{className:"dropdown"},"string"!==typeof n?c.a.createElement(n.type,Object.assign({},l({},n.props,{className:"".concat(n.props.className||""," dropdown-toggle")}),{"data-toggle":"dropdown"})):c.a.createElement("button",{type:"button",className:"btn btn-".concat(d," dropdown-toggle w-100 text-left"),"data-toggle":"dropdown"},n in b.messages?b.messages[n]:n),c.a.createElement("div",{className:"dropdown-menu w-100 bg-".concat(d," text-").concat((t=d,["warning","light","white"].indexOf(t)>=0?"dark":"white"))},0===p.length?c.a.createElement(s,{disabled:!0,value:"OPTION_NOT_FOUND"}):p.map(function(e){return c.a.createElement(s,Object.assign({key:e.key},l({},e.props,{onSelect:h})))})))}},37:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a,r=n(5),c=n(0),o=n.n(c),i=n(3),u=n(15),l=n.n(u);!function(e){e[e.DISMISS=0]="DISMISS",e[e.CALLBACK=1]="CALLBACK"}(a||(a={}));var s=function(e,t){var n=t.show,a=t.onShowBsModal,r=e.id,c=e.setShow;return $("#".concat(r)).modal(n?"show":"hide"),c(n),n&&a instanceof Function&&a(),e};t.b=function(e){var t=e.className,n=void 0===t?"":t,u=e.closeByBtn,d=void 0!==u&&u,m=e.title,f=void 0===m?"":m,b=e.btns,p=void 0===b?[]:b,h=Object(r.a)(e.show,2),O=h[0],v=h[1],g=e.children,E=e.onShowBsModal,y=void 0===E?function(){}:E,j=e.doCallback,N=void 0===j?function(){return"close"}:j,C=Object(c.useReducer)(s,{id:l()(),setShow:v}),w=Object(r.a)(C,2),S=w[0].id,k=function(e){var t=e.id,n=e.isShow,r=e.setModal,o=e.closeByBtn,i=e.onShowBsModal,u=e.doCallback;return Object(c.useEffect)(function(){!$("#".concat(t)).is(":hidden")!==n&&r({show:n,onShowBsModal:i})},[t,n,r,i]),{onClickMask:Object(c.useCallback)(function(e){var t=$(e.target);(!o&&0===t.parents("div.modal-content").length||t.is("button.modal-btn")||t.parents("button.modal-btn").length>0)&&(r({show:!1}),u(a.DISMISS))},[r,o,u]),onClickFbar:Object(c.useCallback)(function(e){"close"!==u(e)&&a.DISMISS!==e||r({show:!1})},[r,u])}}({id:S,isShow:O,setModal:w[1],closeByBtn:d,onShowBsModal:y,doCallback:N}),P=k.onClickMask,D=k.onClickFbar;return O?o.a.createElement("div",{className:"modal",id:S,onClick:P,"data-backdrop":!d||"static","data-keyboard":!d},o.a.createElement("div",{className:"modal-dialog"},o.a.createElement("div",{className:"modal-content ".concat(n," px-2")},f?function(e){var t=e.text,n=e.icon,a=void 0===n?"":n;return o.a.createElement("div",{className:"modal-header py-3"},o.a.createElement("h5",{className:"modal-title"},a?o.a.createElement("i",{className:"".concat(a," mr-2")}):null,o.a.createElement(i.a,{tagName:"strong",id:t})),o.a.createElement("button",{type:"button",className:"close text-white modal-btn","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")))}("string"===typeof f?{text:f}:f):null,o.a.createElement("div",{className:"modal-body py-2"},g),0===p.length?null:o.a.createElement("div",{className:"modal-footer pt-2"},p.map(function(e){var t=e.text,n=void 0===t?"":t,r=e.icon,c=void 0===r?"":r,u=e.color,l=void 0===u?"":u,s=e.code;return o.a.createElement("button",{type:"button",key:"symbol"===typeof s?s.description:s,onClick:function(){return D(s)},className:"modal-btn btn btn-".concat(l||(a.DISMISS===s?"secondary":"primary"))},c?o.a.createElement("i",{className:"".concat(c," mr-2")}):null,n?o.a.createElement(i.a,{id:n}):null)}))))):null}},4:function(e,t,n){"use strict";var a,r=n(6),c=n(0);function o(e,t){var n=e instanceof Object?e:{def:e};Object.keys(n).forEach(function(e){return!1===n[e]?null:t("def"===e?"":e,n[e])})}function i(e,t){var n=[];return Object.keys(t).forEach(function(a){var r="def"===a?"":a,c=t[a];!1!==c&&("number"===typeof c?n.push(u(r,{start:e,end:c})):Object.keys(c).forEach(function(t){var a=c[t]||"";a&&n.push(u(r,{start:"".concat(e).concat(t),end:a}))}))}),n}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.start,a=void 0===n?"":n,r=t.end;return[a,e,void 0===r?"":r].filter(function(e){return!!e}).join("-")}function l(e){return e.filter(function(e,t,n){return!!e&&n.indexOf(e)===t}).join(" ")}function s(e){var t=e.width,n=void 0===t?"auto":t,c=e.offset,i=void 0!==c&&c,l=e.order;return[n,i,void 0!==l&&l].reduce(function(e,t,n){switch(n){case a.WIDTH:o(t,function(t,n){return e.push(u(t,{start:"col",end:"auto"===n?"":n}))});break;case a.OFFSET:o(t,function(t,n){return e.push(u(t,{start:"offset",end:n}))});break;case a.ORDER:o(t,function(t,n){return e.push(u(t,{start:"order",end:n}))})}return Object(r.a)(e)},[])}function d(e,t){var n=t.className,a=void 0===n?"":n,c=t.margin,o=void 0!==c&&c,l=t.padding,s=void 0!==l&&l,d=t.border,m=void 0!==d&&d,f=t.rounded,b=void 0!==f&&f,p=t.colors,h=void 0!==p&&p,O=t.hidden,v=void 0!==O&&O,g=Object.keys(o).filter(function(e){return["def","sm","md","lg","xl"].indexOf(e)>=0}).length>0,E=Object.keys(s).filter(function(e){return["def","sm","md","lg","xl"].indexOf(e)>=0}).length>0;return[a].concat(Object(r.a)(i("m",g?o:{def:o})),Object(r.a)(i("p",E?s:{def:s})),Object(r.a)(function(e){var t=[];return!1!==e&&(!0===e?t.push("border"):Object.keys(e).forEach(function(e){switch(e){case"t":t.push("border-top");break;case"b":t.push("border-bottom");break;case"l":t.push("border-left");break;case"r":t.push("border-right")}})),t}(m)),Object(r.a)(function(e){var t=[];return!1!==e&&(!0===e?t.push("rounded"):Object.keys(e).forEach(function(n){var a=e[n];a&&t.push("rounded-".concat(a))})),t}(b)),Object(r.a)(function(e){var t=[];return!1!==e&&Object.keys(e).forEach(function(n){var a=e[n];a&&t.push("border"===n?"border-".concat(a):"".concat(n,"-").concat(a))}),t}(h)),Object(r.a)(function(e,t){var n=["d-".concat(e)];if(!1!==t){var a=Array.isArray(t)?t:[t];["def","sm","md","lg","xl"].filter(function(e){return a.indexOf(e)>=0}).forEach(function(t){var a="def"===t?"":t;n.splice(n.indexOf(u(a,{start:"d",end:e})),1),n.push(u(a,{start:"d",end:"none"}))})}return n}(e,v)))}!function(e){e[e.WIDTH=0]="WIDTH",e[e.OFFSET=1]="OFFSET",e[e.ORDER=2]="ORDER"}(a||(a={})),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return b});var m=function(e){var t=e.tagName,n=void 0===t?"div":t,a=e.children;return Object(c.createElement)(n,{className:l(["container"].concat(Object(r.a)(d("block",e))))},a)},f=function(e){var t=e.tagName,n=void 0===t?"div":t,a=e.children,o=e.gutters,i=void 0===o||o,s=e.alignable,m=void 0===s?"":s,f=e.align,b=void 0!==f&&f;return Object(c.createElement)(n,{className:l(["row",i?"":"no-gutters",!1===b?"":"justify-content-".concat(u(m,{end:b}))].concat(Object(r.a)(d("flex",e))))},a)},b=function(e){var t=e.tagName,n=void 0===t?"div":t,a=e.children;return Object(c.createElement)(n,{className:l(["col"].concat(Object(r.a)(s(e)),Object(r.a)(d("block",e))))},a)}},44:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(3);t.a=function(e){var t=e.value,n=e.onChange,a=e.className,o=void 0===a?"":a,i=e.disableOnce,u=void 0!==i&&i,l=Object(c.c)();return r.a.createElement("select",{className:"form-control ".concat(o),value:t,onChange:function(e){var t=e.target;return n(t.value)}},u?null:r.a.createElement("option",{value:"once"},l.messages.CYCLE_ONCE),r.a.createElement("option",{value:"day"},l.messages.CYCLE_DAY),r.a.createElement("option",{value:"month"},l.messages.CYCLE_MONTH),r.a.createElement("option",{value:"year"},l.messages.CYCLE_YEAR))}},45:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(3);t.a=function(e){var t=e.className,n=void 0===t?"":t,a=e.disableDeposit,o=void 0!==a&&a,i=e.children,u=e.value,l=e.onChange,s=Object(c.c)();return r.a.createElement("select",{className:"form-control ".concat(n),value:u,onChange:function(e){var t=e.target;return l(t.value)}},i,r.a.createElement("option",{value:"income"},s.messages.INCOME),r.a.createElement("option",{value:"expenses"},s.messages.EXPENSES),o?null:r.a.createElement("option",{value:"deposit"},s.messages.DEPOSIT))}},49:function(e){e.exports=JSON.parse('{"a":{"apiKey":"AIzaSyBh9dbOxp2WXc9HcYxPFBThi1YcUAPV6iA","databaseURL":"https://cashmap-158cc.firebaseio.com/"}}')},51:function(e,t,n){e.exports=n.p+"static/media/404.bd332713.svg"},52:function(e,t,n){e.exports=n.p+"static/media/cash-logo.cb5cc733.svg"},54:function(e,t,n){e.exports=n(80)},63:function(e,t,n){var a={"./en.json":[81,2],"./zh.json":[82,3]};function r(e){if(!n.o(a,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],r=t[0];return n.e(t[1]).then(function(){return n.t(r,3)})}r.keys=function(){return Object.keys(a)},r.id=63,e.exports=r},64:function(e,t){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(46),i=n.n(o),u=n(15),l=n.n(u),s=n(25),d=n(26),m=n(41),f=n.n(m),b=(n(61),n(53),n(5)),p=n(3);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.EN=1]="EN",e[e.ZH=2]="ZH"}(a||(a={}));var h=n.e(2).then(n.t.bind(null,81,3)).then(function(e){return{locale:"en",messages:e.default}}),O=function(e,t){switch(t){case a.EN:return h.then(function(e){return localStorage.setItem("CASH_MAP_LANG","en"),e});case a.ZH:return n.e(3).then(n.t.bind(null,82,3)).then(function(e){var t=e.default;return localStorage.setItem("CASH_MAP_LANG","zh"),{locale:"zh",messages:t}});default:return r=(r=localStorage.getItem("CASH_MAP_LANG")||navigator.language.toLowerCase()).substring(0,r.indexOf("-")>0?r.indexOf("-"):void 0),n(63)("./".concat(r,".json")).then(function(e){var t=e.default;return localStorage.setItem("CASH_MAP_LANG",r),{locale:r,messages:t}}).catch(function(){return h})}var r},v=Object(r.createContext)({locale:"en",setLang:function(){}}),g=function(e){var t=e.children,n=Object(r.useState)({locale:"en",messages:{}}),o=Object(b.a)(n,2),i=o[0],u=i.locale,l=i.messages,s=o[1],d=Object(r.useReducer)(O,h),m=Object(b.a)(d,2),f=m[0],g=m[1],E=Object.keys(l).length>0;return f.then(function(e){return JSON.stringify(e)===JSON.stringify(l)?null:s(e)}),Object(r.useMemo)(function(){return E?null:g(a.DEFAULT)},[E]),E?c.a.createElement(p.b,{locale:u,messages:l},c.a.createElement(v.Provider,{value:{locale:u,setLang:g}},t)):null},E=n(18),y=n(20),j=n(31),N=n(9),C=n(12),w=n(13),S=n(21),k=n(19),P=n(22),D=n(4),A=n(24),M=n(10),x=n.n(M),R=n(44),I=function(e){var t=e.summary,n=e.cycle,a=e.onCycleChange,o=Object(p.c)(),i="zh"===o.locale?60:110,u=Object(r.useState)(!1),l=Object(b.a)(u,2),s=l[0],d=l[1],m=Object(r.useCallback)(function(){return d(!s)},[s,d]);return c.a.createElement("fieldset",{className:"summary-dashboard shadow ".concat(s?"sd-expand":"sd-collapse")},c.a.createElement("legend",null,c.a.createElement("button",{type:"button",className:"btn btn-link",onClick:m},c.a.createElement("i",{className:"mr-2 fa fa-".concat(s?"minus":"plus","-square-o")}),o.messages.SUMMARY," (",o.messages["CYCLE_".concat(n.toUpperCase())],")")),s?c.a.createElement(D.b,{tagName:"form"},c.a.createElement(D.c,null,c.a.createElement(D.a,{className:"form-group",width:{sm:6}},c.a.createElement(p.a,{tagName:"label",id:"VIEW_CYCLE"}),c.a.createElement(R.a,{value:n,disableOnce:!0,onChange:function(e){return a(e)}}))),c.a.createElement(D.c,null,c.a.createElement(D.a,{width:{def:12,sm:6}},c.a.createElement(A.a,{label:o.messages.INCOME,labelWidth:i},c.a.createElement("span",{className:"form-control text-right"},"$ ",x()(t.income).format("0,0")))),c.a.createElement(D.a,{width:{def:12,sm:6}},c.a.createElement(A.a,{label:o.messages.EXPENSES,labelWidth:i},c.a.createElement("span",{className:"form-control text-right"},"$ ",x()(t.expenses).format("0,0")))),c.a.createElement(D.a,{width:{def:12,sm:6}},c.a.createElement(A.a,{label:o.messages.DEPOSIT,labelWidth:i},c.a.createElement("span",{className:"form-control text-right"},"$ ",x()(t.deposit).format("0,0")))),c.a.createElement(D.a,{width:{def:12,sm:6}},c.a.createElement(A.a,{label:o.messages.APPLICABLE,labelWidth:i},c.a.createElement("span",{className:"form-control text-right"},"$ ",x()(t.applicable).format("0,0")))))):c.a.createElement(D.b,{tagName:"form"},c.a.createElement(D.c,{className:"text-right"},c.a.createElement(D.a,{className:"form-group"},c.a.createElement(p.a,{tagName:"label",id:"APPLICABLE"}),c.a.createElement("span",{className:"d-block"},"$ ",x()(t.applicable).format("0,0"))),c.a.createElement(D.a,{className:"form-group"},c.a.createElement(p.a,{tagName:"label",id:"DEPOSIT"}),c.a.createElement("span",{className:"d-block"},"$ ",x()(t.deposit).format("0,0"))))))},F=n(7),T=n(27);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){Object(F.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var U=function(e){var t=e.record,n=Object(p.c)(),a=Object(r.useState)(!1),o=function(e){var t=e.record,n=Object(E.b)(),a=n.isLoading,c=n.Loading,o=Object(y.c)().Message,i=Object(N.e)().dispatch;return{onSlide:Object(r.useCallback)(function(e){return i({action:"UPDATE",params:L({},t,{status:e?"actual":"expected"})})},[t,i]),doUpdateGroup:Object(r.useCallback)(function(e){return a?null:c({show:!0,callbackFn:function(){return i({action:"UPDATE",params:L({},t,{group:e||""}),fail:function(e){return c({show:!1,callbackFn:function(){return o({type:"DANGER",content:e.message})}})},success:function(){return c({show:!1,callbackFn:function(){return o({type:"INFO",content:"MSG_SAVE_SUCCESS"})}})}})}})},[c,o,i,a,t]),doRemove:Object(r.useCallback)(function(){return o({type:"CONFIRM",title:"MSG_CONFIRM_TITLE",icon:"fa fa-question",content:"MSG_REMOVE_QUESTION",handler:function(e){return y.a.CONFIRM!==e?null:c({show:!0,callbackFn:function(){return i({action:"REMOVE",params:t,fail:function(e){return c({show:!1,callbackFn:function(){return o({type:"DANGER",content:e.message})}})},success:function(){return c({show:!1,callbackFn:function(){return o({type:"INFO",content:"MSG_REMOVE_SUCCESS"})}})}})}})}})},[c,o,i,t])}}({record:t}),i=o.onSlide,u=o.doUpdateGroup,l=o.doRemove;return c.a.createElement("div",{className:"form-group amount-slidebar"},c.a.createElement(T.b,{show:a,group:t.group||"",onChange:u}),c.a.createElement("div",{className:"media"},c.a.createElement("div",{className:"btn-group-vertical"},c.a.createElement(s.b,{className:"mr-3 btn btn-link text-info",to:"/update/".concat(t.uid)},c.a.createElement("i",{className:"fa fa-pencil-square-o"})),c.a.createElement(T.a,{show:a,className:"btn btn-link text-warning"})),c.a.createElement("span",{className:"media-body py-2"},c.a.createElement("h4",null,t.desc),"$ ",x()(t.amount).format("0,0")," / ",n.messages["CYCLE_".concat((t.cycle||"").toUpperCase())]),c.a.createElement("button",{type:"button",className:"btn btn-link text-white mt-2",onClick:l},c.a.createElement("i",{className:"fa fa-trash-o"}))),c.a.createElement("input",{type:"range",className:"custom-range ".concat(t.type),min:"0",max:"1",value:"actual"===t.status?1:0,onChange:function(e){var t=e.target.value;return i("1"===t)}}))};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach(function(t){Object(F.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var G=function(e){var t=e.cycle,n=e.groupName,a=void 0===n?"UNGROUP":n,o=e.list,i=o.filter(function(e){return"actual"===e.status}).length,u=i===o.length?1:0===i?0:.5,l=Object(p.c)(),s=Object(r.useState)(!1),d=Object(r.useState)(!0),m=Object(N.c)({cycle:t,list:o,ignore:!0}),f=function(e){var t=e.list,n=Object(b.a)(e.expanded,2),a=n[0],c=n[1],o=Object(E.b)(),i=o.isLoading,u=o.Loading,l=Object(y.c)().Message,s=Object(N.e)().dispatch;return{doCollapse:Object(r.useCallback)(function(){return c(!a)},[a,c]),doSlideAll:Object(r.useCallback)(function(e){return t.forEach(function(t){return s({action:"UPDATE",params:Y({},t,{status:e?"actual":"expected"})})})},[t,s]),doUpdateGroup:Object(r.useCallback)(function(e){return i?null:u({show:!0,callbackFn:function(){var n=0;t.forEach(function(a){return s({action:"UPDATE",params:Y({},a,{group:e}),fail:function(e){return u({show:!1,callbackFn:function(){return l({type:"DANGER",content:e.message})}})},success:function(){return u({show:!1,callbackFn:function(){++n===t.length&&l({type:"INFO",content:"MSG_SAVE_SUCCESS"})}})}})})}})},[l,u,i,s,t])}}({list:o,expanded:d}),h=f.doCollapse,O=f.doSlideAll,v=f.doUpdateGroup;return c.a.createElement(D.b,{margin:{y:3}},c.a.createElement(T.b,{show:s,group:"UNGROUP"===a?"":a,onChange:v}),c.a.createElement(D.c,null,c.a.createElement(D.a,{tagName:"fieldset",className:"group-title",width:{sm:8,md:6},border:{t:!0},colors:{border:"warning"}},c.a.createElement("legend",null,"UNGROUP"===a?c.a.createElement("span",{className:"p-2 text-warning"},l.messages.UNGROUP):c.a.createElement("button",{type:"button",className:"btn btn-link text-warning",onClick:h},c.a.createElement("i",{className:"mr-2 fa fa-".concat(d[0]?"minus":"plus","-square-o")}),a),"UNGROUP"===a?null:c.a.createElement(T.a,{show:s,icon:"fa fa-pencil-square",className:"btn btn-link text-info"})))),d[0]?o.map(function(e,t){return c.a.createElement(D.c,{key:"record-".concat(e.uid),align:"center"},c.a.createElement(D.a,{width:{def:12,sm:10,lg:8},margin:{t:3,b:1},border:t!==o.length-1&&{b:!0}},c.a.createElement(U,{record:e})))}):c.a.createElement(D.c,{align:"center"},c.a.createElement(D.a,{width:{def:12,sm:10,lg:8},margin:{t:3,b:1}},c.a.createElement("table",{className:"table table-dark table-striped table-hover text-right"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement(p.a,{tagName:"th",id:"INCOME"}),c.a.createElement(p.a,{tagName:"th",id:"EXPENSES"}),c.a.createElement(p.a,{tagName:"th",id:"DEPOSIT"}))),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,x()(m.income).format("0,0")),c.a.createElement("td",null,x()(m.expenses).format("0,0")),c.a.createElement("td",null,x()(m.deposit).format("0,0"))))),c.a.createElement("input",{type:"range",className:"custom-range group",min:"0",max:"1",step:i>0&&i<o.length?.5:1,value:u,onChange:function(e){var t=e.target.value;return O("1"===t)}}))))},B=n(45),K=function(){var e=Object(p.c)(),t=Object(r.useState)("all"),n=Object(b.a)(t,2),a=n[0],o=n[1],i=Object(N.e)(),u=i.summary,l=i.list,d=function(e){var t=e.summaryCycle,n=e.setFilter,a=Object(r.useState)(!1),c=Object(b.a)(a,2),o=c[0],i=c[1],u=Object(E.b)().Loading,l=Object(y.c)().Message,s=Object(N.e)().dispatch;return Object(r.useEffect)(function(){o||u({show:!0,callbackFn:function(){return s({action:"SUMMARY",params:{cycle:t},fail:function(e){return u({show:!1,callbackFn:function(){return l({type:"DANGER",content:e.message})}})},success:function(){return s({action:"LIST",fail:function(e){return u({show:!1,callbackFn:function(){return l({type:"DANGER",content:e.message})}})},success:function(){return u({show:!1,callbackFn:function(){return i(!0)}})}})}})}})},[u,l,t,o,i,s]),{onCycleChange:Object(r.useCallback)(function(e){return s({action:"SUMMARY",params:{cycle:e}})},[s]),onFilterChange:Object(r.useCallback)(function(e){n(e),s({action:"LIST",params:{type:"all"===e?"":e}})},[s,n]),doClear:Object(r.useCallback)(function(){return l({type:"CONFIRM",title:"MSG_CONFIRM_TITLE",icon:"fa fa-question",content:"MSG_CLEAR_QUESTION",handler:function(e){return y.a.CONFIRM!==e?null:u({show:!0,callbackFn:function(){return s({action:"CLEAR",fail:function(e){return u({show:!1,callbackFn:function(){return l({type:"DANGER",content:e.message})}})},success:function(){return u({show:!1,callbackFn:function(){return l({type:"INFO",content:"MSG_REMOVE_SUCCESS"})}})}})}})}})},[u,l,s])}}({summaryCycle:u.cycle,setFilter:o}),m=d.onCycleChange,f=d.onFilterChange,h=d.doClear;return c.a.createElement("div",null,c.a.createElement(I,{summary:u,cycle:u.cycle,onCycleChange:m}),Object.keys(l).map(function(e){return c.a.createElement(G,{key:e,cycle:u.cycle,groupName:e,list:l[e]})}),c.a.createElement(D.b,{className:"list-fbar"},c.a.createElement(D.c,{padding:{t:3}},c.a.createElement(D.a,{className:"form-group"},c.a.createElement(p.a,{tagName:"label",id:"FILTER_MAINTAIN"}),c.a.createElement(A.a,null,c.a.createElement(s.b,{className:"btn btn-primary",to:"/append"},c.a.createElement("i",{className:"fa fa-plus mr-2"})," ",e.messages.APPEND_RECORD),c.a.createElement(B.a,{className:"rounded mx-2",value:a,onChange:f},c.a.createElement("option",{value:"all"},e.messages.ALL_OPTION)),c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:h},c.a.createElement("i",{className:"fa fa-remove mr-2"})," ",e.messages.CLEAR))))))},H=n(51),V=n.n(H),W=function(){var e=Object(E.b)().Loading;return Object(r.useEffect)(function(){return e({show:!0}),function(){return e({show:!1})}},[e]),null},J=function(e){var t=e.loader,n=e.loading,a=void 0===n?W:n;return function(e){function n(e){var r;return Object(C.a)(this,n),(r=Object(S.a)(this,Object(k.a)(n).call(this,e))).state={Route:a},t().then(function(e){var t=e.default;return r.setState({Route:t})}),r}return Object(P.a)(n,e),Object(w.a)(n,[{key:"render",value:function(){var e=this.state.Route;return c.a.createElement(e,this.props)}}]),n}(r.Component)},q=[{path:"/",exact:!0,component:K},{path:"/append",text:"APPEND_RECORD",icon:"fa fa-plus",component:J({loader:function(){return n.e(0).then(n.bind(null,86))},loading:W})},{path:"/update/:uid",text:"UPDATE_RECORD",component:J({loader:function(){return n.e(0).then(n.bind(null,86))},loading:W})},{path:"/cloud/:syncKey",text:"CLOUD_PROCESS",component:J({loader:function(){return n.e(1).then(n.bind(null,87))},loading:W})},{path:"/cloud",text:"CLOUD_PROCESS",component:J({loader:function(){return n.e(1).then(n.bind(null,87))},loading:W})},{component:function(){var e=Object(r.useCallback)(function(){return window.history.back()},[]);return c.a.createElement(D.b,{className:"not-found-404"},c.a.createElement(D.c,{align:"center"},c.a.createElement(D.a,{width:{def:12,sm:6,md:4}},c.a.createElement("img",{className:"img-fluid",src:V.a,alt:"404"}))),c.a.createElement(D.c,{align:"center"},c.a.createElement(D.a,{className:"text-center"},c.a.createElement("button",{type:"button",className:"btn btn-lg btn-link",onClick:e},c.a.createElement(p.a,{id:"BACK_TO_PREV_PAGE"})))))}}],z=n(52),X=n.n(z),Z=function(){var e=Object(r.useContext)(v).setLang;return{asEnglish:Object(r.useCallback)(function(){return e(a.EN)},[e]),asChinese:Object(r.useCallback)(function(){return e(a.ZH)},[e])}},Q=function(){var e=Object(r.useRef)(null),t=Z(),n=t.asEnglish,a=t.asChinese;return c.a.createElement("nav",{className:"main-header navbar navbar-expand navbar-dark bg-dark text-secondary border-bottom border-white"},c.a.createElement(s.b,{className:"navbar-brand text-white",to:"/"},c.a.createElement("img",{className:"rounded-circle",src:X.a,alt:"Logo"})),c.a.createElement("div",{className:"collapse navbar-collapse"},c.a.createElement("ul",{className:"navbar-nav ml-auto"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(s.b,{className:"btn btn-link nav-link",to:"/cloud"},c.a.createElement("i",{className:"fa fa-cloud"})))),c.a.createElement("ul",{className:"lang-dropdown navbar-nav"},c.a.createElement("li",{ref:e,className:"nav-item dropdown"},c.a.createElement("button",{type:"button",className:"btn btn-link nav-link dropdown-toggle","data-toggle":"dropdown"},c.a.createElement("i",{className:"fa fa-language mr-2"})),c.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},c.a.createElement("button",{type:"button",className:"dropdown-item",onClick:n},"English"),c.a.createElement("button",{type:"button",className:"dropdown-item",onClick:a},"\u7e41\u9ad4\u4e2d\u6587"))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(79);window.$=f.a,n.e(7).then(n.t.bind(null,85,7)).then(function(){i.a.render(c.a.createElement(g,null,c.a.createElement(E.a,null,c.a.createElement(y.b,null,c.a.createElement(s.a,null,c.a.createElement(Q,null),c.a.createElement("div",{className:"cash-map-app"},c.a.createElement(j.a,null,c.a.createElement(N.b,null,c.a.createElement(d.c,null,q.map(function(e){return c.a.createElement(d.a,Object.assign({key:l()()},e))}))))))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})})},9:function(e,t,n){"use strict";var a=n(5),r=n(6),c=n(7),o=n(31),i=n(47),u=n(23),l=n.n(u),s=n(49);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=i.initializeApp(s.a).database(),b=function(e){return f.ref(e)},p=function(e){var t=e.cycle,n=e.ignore,a=void 0!==n&&n,r=e.list;return(void 0===r?[]:r).filter(function(e){return a||"actual"===e.status}).reduce(function(e,t){var n=function(e,t){var n=t.cycle,a=void 0===n?"month":n,r=t.amount,c=void 0===r?0:r,o=l()(new Date).daysInMonth(),i=l()("".concat((new Date).getFullYear(),"/12/31"),"YYYY/MM/DD").dayOfYear();switch(e){case"day":switch(a){case"month":return Math.floor(c/o);case"year":return Math.floor(c/i)}break;case"month":switch(a){case"day":return c*o;case"year":return Math.floor(c/12)}break;case"year":switch(a){case"day":return c*i;case"month":return 12*c}}return c}(e.cycle,t);if("once"===t.cycle)e.deposit+=n*("expenses"===t.type?-1:1);else switch(t.type){case"income":e.income+=n;break;case"expenses":e.expenses+=n;break;case"deposit":e.deposit+=n,e.income-=n}return m({},e,{applicable:e.income-e.expenses})},{cycle:t,income:0,expenses:0,deposit:0,applicable:0})},h=function(e,t){return t.filter(function(t){return Object.keys(e).length===Object.keys(e).filter(function(n){return!e[n]||t[n]===e[n]}).length})},O=p,v=h,g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=b(e);t?a.once("value",function(e){var t=Object.keys(e.val()).length,r=Object.keys(e.val()||{}).map(function(t){return m({},e.val()[t],{uid:t})}),c=0;a.on("child_added",function(e){return++c>t?n("CREATE",e,r):null}),a.on("child_changed",function(e){return n("UPDATE",e,r)}),a.on("child_removed",function(e){return--c<t?n("REMOVE",e,r):null})}):(a.off("child_added"),a.off("child_changed"),a.off("child_removed"))},E=function(e){return new Promise(function(t){return b(e).on("value",function(e){return t({status:200,content:e.exists()})})})},y=function(e,t){return new Promise(function(n,a){return b(e).child(t).on("value",function(e){return null===e.val()?a("DATA_NOT_FOUND"):n({status:200,content:m({},e.val(),{uid:t})})})})},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n){return b(e).on("value",function(e){return n({status:200,content:h(t,Object.keys(e.val()||{}).map(function(t){return m({},e.val()[t],{uid:t})}))})})})},N=function(e){return new Promise(function(t){return b(e).on("value",function(e){return t({status:200,content:Object.keys(e.val()||{}).map(function(t){return e.val()[t].group}).reduce(function(e,t){return!t||e.indexOf(t)>=0?e:[].concat(Object(r.a)(e),[t])},[])})})})},C=function(e,t){var n=t.cycle,a=t.ignore;return new Promise(function(t){return b(e).on("value",function(e){return t({status:200,content:p({cycle:n,ignore:a,list:Object.keys(e.val()||{}).map(function(t){return e.val()[t]})})})})})},w=function(e,t){return delete t.uid,b(e).push(t).then(function(){return{status:200,content:!0}})},S=function(e,t){var n=t.uid||"";return delete t.uid,b(e).child(n).update(t).then(function(){return{status:200,content:!0}})},k=function(e,t){return b(e).child(t.uid||"").remove().then(function(){return{status:200,content:!0}})},P=function(e){return b(e).remove().then(function(){return{status:200,content:!0}})};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var A=function(){},M=function(e){return e.sort(function(e,t){var n=e.group,a=void 0===n?"":n,r=t.group,c=void 0===r?"":r;return a?c?a>c?1:a<c?-1:0:-1:1}).reduce(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,Object(c.a)({},t.group||"UNGROUP",[].concat(Object(r.a)(e[t.group||"UNGROUP"]||[]),[t])))},{})},x=function(e,t,n){var a=n.status,r=n.content;return new Promise(function(n,c){200===a&&r||c("Error Request."),j(e,t).then(function(e){return n(e)})})},R=function(e,t){var n=t.data,a=t.group,c=void 0===a?e.group:a,o=t.summary,i=void 0===o?e.summary:o,u=t.list,l=void 0===u?function(e){return Object.keys(e).reduce(function(t,n){return[].concat(Object(r.a)(t),Object(r.a)(e[n]))},[])}(e.list):u;return{group:c,summary:i,data:!0===n?e.data:n,list:M(l)}},I=function(e,t){var n=t.action,a=t.params,r=void 0===a?{}:a,c=t.success,o=void 0===c?A:c,i=t.fail,u=void 0===i?A:i,l=e.dispatch,s=e.sourceKey,d=e.params,m=e.cycle;switch(n){case"SUMMARY":return C(s,{cycle:r.cycle||m}).then(function(e){var t=e.content;return l({summary:t})}).then(function(){return o(d)}).catch(function(e){return u(e,d)}),{dispatch:l,sourceKey:s,params:d,cycle:r.cycle||m};case"LIST":return j(s,r).then(function(e){var t=e.content;return l({list:t})}).then(function(){return o(d)}).catch(function(e){return u(e,d)}),{dispatch:l,sourceKey:s,cycle:m,params:r};case"FIND":y(s,r.uid||"").then(function(e){var t=e.content;return l({data:t||!0})}).then(function(){return o(d)}).catch(function(e){return u(e,d)});break;case"GROUP":N(s).then(function(e){var t=e.content;return l({group:t,data:!0})}).then(function(){return o(d)}).catch(function(e){return u(e,d)});break;case"CREATE":w(s,r).then(function(e){return x(s,d,e).then(function(e){var t=e.content;return l({list:t})}).then(function(){return o(d)})}).catch(function(e){return u(e,d)});break;case"UPDATE":S(s,r).then(function(e){return x(s,d,e).then(function(e){var t=e.content;return l({list:t})}).then(function(){return o(d)})}).catch(function(e){return u(e,d)});break;case"REMOVE":k(s,r).then(function(e){return x(s,d,e).then(function(e){var t=e.content;return l({list:t})}).then(function(){return o(d)})}).catch(function(e){return u(e,d)});break;case"CLEAR":P(s).then(function(){return l({list:[],group:[],summary:{cycle:m,income:0,expenses:0,deposit:0,applicable:0}})}).then(function(){return o(d)}).catch(function(e){return u(e,d)})}return e},F=n(0),T=n.n(F),_=n(12),L=n(13),U=n(15),$=n.n(U);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var B="YYYY/MM",K=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.uid,a=void 0===n?$()():n,r=t.desc,c=void 0===r?"":r,o=t.type,i=void 0===o?"income":o,u=t.status,s=void 0===u?"expected":u,d=t.cycle,m=void 0===d?"month":d,f=t.validFm,b=void 0===f?l()(new Date).format(B):f,p=t.validTo,h=void 0===p?"":p,O=t.group,v=void 0===O?"":O,g=t.amount,E=void 0===g?0:g;Object(_.a)(this,e),this.$uid=void 0,this.$desc=void 0,this.$type=void 0,this.$status=void 0,this.$cycle=void 0,this.$group=void 0,this.$validFm=void 0,this.$validTo=void 0,this.$amount=void 0,this.$uid=a,this.$desc=Object(F.useState)(c),this.$type=Object(F.useState)(i),this.$status=Object(F.useState)(s),this.$cycle=Object(F.useState)(m),this.$validFm=Object(F.useState)(b),this.$validTo=Object(F.useState)(h),this.$amount=Object(F.useState)(E),this.$group=Object(F.useState)(v)}return Object(L.a)(e,[{key:"getJSON",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return G({desc:this.desc,status:this.status,type:this.type,validFm:this.validFm,cycle:this.cycle,validTo:this.validTo,group:this.group,amount:this.amount},e?{uid:this.uid}:{})}},{key:"reset",value:function(){this.$uid=$()(),this.desc="",this.type="income",this.status="actual",this.cycle="month",this.validFm=l()(new Date).format(B),this.amount=0,this.validTo="",this.group=""}},{key:"uid",get:function(){return this.$uid}},{key:"desc",get:function(){return this.$desc[0]},set:function(e){this.$desc[1](e)}},{key:"type",get:function(){return this.$type[0]},set:function(e){this.$type[1](e)}},{key:"status",get:function(){return this.$status[0]},set:function(e){this.$status[1](e)}},{key:"cycle",get:function(){return this.$cycle[0]},set:function(e){this.$cycle[1](e)}},{key:"validFm",get:function(){return this.$validFm[0]},set:function(e){this.$validFm[1](e)}},{key:"validTo",get:function(){return this.$validTo[0]},set:function(e){this.$validTo[1](e)}},{key:"amount",get:function(){return this.$amount[0]},set:function(e){this.$amount[1](e)}},{key:"group",get:function(){return this.$group[0]},set:function(e){this.$group[1](e)}},{key:"vdateFm",get:function(){return this.validFm?l()(this.validFm+"/01","YYYY/MM/DD").toDate():null},set:function(e){this.validFm=e?l()(e).format(B):""}},{key:"vdateTo",get:function(){return this.validTo?l()(this.validTo+"/01","YYYY/MM/DD").toDate():null},set:function(e){this.validTo=e?l()(e).format(B):""}},{key:"amountStr",get:function(){return this.amount?this.amount.toString():""},set:function(e){var t=parseFloat(e);this.amount=isNaN(t)?0:t}}]),e}();function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,"d",function(){return q}),n.d(t,"c",function(){return z}),n.d(t,"e",function(){return X}),n.d(t,"a",function(){return K});var W=Symbol("STORE_DISPATCH"),J={list:{},group:[],summary:{cycle:"month",income:0,expenses:0,deposit:0,applicable:0}},q=E,z=O,X=function(){return Object(F.useContext)(Z)},Z=Object(F.createContext)(V({},J,Object(c.a)({dispatch:function(){}},W,function(){})));t.b=function(e){var t=e.children,n=Object(o.b)().sourceKey,i=Object(F.useReducer)(R,J),u=Object(a.a)(i,2),l=u[0],s=u[1],d=Object(F.useReducer)(I,{sourceKey:n,params:{},cycle:"month",dispatch:s}),m=Object(a.a)(d,2),f=m[0],b=f.cycle,p=f.params,h=m[1];return function(e){var t=e.sourceKey,n=e.cycle,a=e.params,c=e.$dispatch,o=Object(F.useCallback)(function(e,t,o){var i=t.key;switch(e){case"CREATE":o.push(V({},t.val(),{uid:i}));break;case"UPDATE":o.splice(o.findIndex(function(e){return e.uid===i}),1,V({},t.val(),{uid:i}));break;case"REMOVE":o.splice(o.findIndex(function(e){return e.uid===i}),1)}c({summary:O({cycle:n,list:o}),list:v(a,o),group:o.reduce(function(e,t){var n=t.group;return!n||e.indexOf(n)>=0?e:[].concat(Object(r.a)(e),[n])},[])})},[n,a,c]);Object(F.useEffect)(function(){return g(t,!0,o),function(){return g(t,!1)}})}({sourceKey:n,cycle:b,params:p,$dispatch:s}),T.a.createElement(Z.Provider,{value:V({},l,Object(c.a)({dispatch:h},W,s))},t)}}},[[54,5,6]]]);
//# sourceMappingURL=main.8ccd86cf.chunk.js.map
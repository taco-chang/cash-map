(window["webpackJsonpcash-map"]=window["webpackJsonpcash-map"]||[]).push([[1],{83:function(e,t,a){e.exports=a.p+"static/media/line_icon.4fc3c40a.svg"},86:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(0),r=a.n(c),i=a(3),l=a(6),s=a(12),o=a(13),u=a(15),m=a.n(u);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var b=function(){function e(t,a){Object(s.a)(this,e),this.activeAt=t,this.tabs={},this.tabs=a.reduce(function(e,t){var a=Object(c.useState)(m()()),r=Object(n.a)(a,1)[0];return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,Object(l.a)({},r,t))},{})}return Object(o.a)(e,[{key:"titleOpts",get:function(){var e=this;return Object.keys(this.tabs).map(function(t){var a=e.tabs[t].props,n=a.title;return{id:t,icon:a.icon,text:n,active:e.activeAt===n}})}},{key:"contentOpts",get:function(){var e=this;return Object.keys(this.tabs).map(function(t){var a=e.tabs[t].props,n=a.title;return{id:t,className:a.className,children:a.children,active:e.activeAt===n}})}}]),e}(),f=function(e){var t=e.id,a=e.text,n=e.icon,l=void 0===n?"":n,s=e.active,o=void 0!==s&&s,u=e.onActived,m=void 0===u?function(){}:u,d=Object(i.c)(),b=Object(c.useCallback)(function(){return m(a)},[a,m]);return r.a.createElement("button",{type:"button",id:"".concat(t,"-tab"),"data-toggle":"tab","aria-controls":t,style:{},className:"nav-item nav-link ".concat(o?"active":""),onClick:b},l?r.a.createElement("i",{className:"mr-2 ".concat(l)}):null,a in d.messages?d.messages[a]:a)},E=function(){return null},v=function(e){var t=e.children,a=e.activeAt,n=e.style,c=e.className,i=void 0===c?"":c,l=e.onActived,s=void 0===l?function(){}:l,o=new b(a,t);return r.a.createElement("div",{className:"cm-tab ".concat(i),style:n},r.a.createElement("div",{className:"nav nav-tabs"},o.titleOpts.map(function(e){var t=e.id,a=e.icon,n=e.text,c=e.active;return r.a.createElement(f,Object.assign({key:t},{id:t,icon:a,text:n,active:c,onActived:s}))})),r.a.createElement("div",{className:"tab-content"},o.contentOpts.map(function(e){var t=e.id,a=e.className,n=e.active,c=e.children;return n?r.a.createElement("div",{key:t,id:t,"aria-labelledby":"".concat(t,"-tab"),className:"tab-pane fade show active ".concat(a)},c):null})))},p=a(9),O=a(31),g=a(4),h=a(33),y=function(){var e=Object(O.b)(),t=e.sourceKey,a=e.sources,n=function(e){var t=e.dispatch;return{onSwitch:Object(c.useCallback)(function(e){t({action:"SWITCH",switchTo:e}),window.history.back()},[t])}}({dispatch:e.dispatch}).onSwitch;return r.a.createElement(h.b,{onSelect:n,Toggle:a.reduce(function(e,a){return a.uid===t?a.desc:e},"XXXXXXx")},a.map(function(e){var t=e.uid,a=e.desc;return r.a.createElement(h.a,{key:t,value:t,desc:a})}))},N=function(e){var t=e.syncKey,a=void 0===t?"":t,l=Object(c.useRef)(null),s=Object(c.useState)(a),o=Object(n.a)(s,2),u=o[0],m=o[1],d=Object(c.useState)(""),b=Object(n.a)(d,2),f=b[0],E=b[1],v=Object(c.useState)(!1),h=Object(n.a)(v,2),N=h[0],j=function(e){var t=e.autoFocus,a=e.syncRef,n=e.newKey,r=e.desc,i=e.setNewKey,l=e.setDesc,s=e.setAllowed,o=Object(O.b)().dispatch,u=Object(c.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return!e.trim()||!t.trim()||[".","#","$","[","]"].indexOf(e)>=0?s(!1):Object(p.d)(e).then(function(e){var t=e.content;return s(t)})},[s]);return Object(c.useEffect)(function(){var e=a.current;t&&e&&e.scrollIntoView()}),{onNewkeyChange:Object(c.useCallback)(function(e){i(e.target.value),u(e.target.value,r)},[r,i,u]),onDescChange:Object(c.useCallback)(function(e){l(e.target.value),u(n,e.target.value)},[n,l,u]),doStopSubmit:Object(c.useCallback)(function(e){e.preventDefault(),e.stopPropagation()},[]),doAdd:Object(c.useCallback)(function(){o({action:"CREATE",source:{uid:n,desc:r}}),i(""),l("")},[n,r,i,l,o])}}({autoFocus:!!a,syncRef:l,newKey:u,desc:f,setNewKey:m,setDesc:E,setAllowed:h[1]}),w=j.onNewkeyChange,C=j.onDescChange,S=j.doStopSubmit,k=j.doAdd;return r.a.createElement(g.b,null,r.a.createElement(g.c,{align:"center"},r.a.createElement(g.a,{className:"form-group",width:{def:12,sm:8,md:6},border:{b:!0}},r.a.createElement("h5",{className:"mb-3"},r.a.createElement("label",null,r.a.createElement("i",{className:"mr-2 fa fa-exchange"}),r.a.createElement(i.a,{tagName:"strong",id:"SWITCH_CLOUD"}))),r.a.createElement("p",{className:"text-light font-italic font-weight-light mb-4"},r.a.createElement(i.a,{id:"SWITCH_DESC"})),r.a.createElement("div",{className:"form-group"},r.a.createElement(y,null)))),r.a.createElement(g.c,{align:"center"},r.a.createElement(g.a,{width:{def:12,sm:8,md:6}},r.a.createElement("h5",{ref:l,className:"mb-3"},r.a.createElement("i",{className:"mr-2 fa fa-plus-square"}),r.a.createElement(i.a,{tagName:"strong",id:"APPEND_SOURCE"})),r.a.createElement("p",{className:"text-light font-italic font-weight-light mb-4"},r.a.createElement(i.a,{id:"APPEND_DESC"})),r.a.createElement("form",{onSubmit:S},r.a.createElement("div",{className:"form-group"},r.a.createElement(i.a,{tagName:"label",id:"SOURCE_KEY"}),r.a.createElement("input",{type:"text",className:"form-control",value:u,onChange:w})),r.a.createElement("div",{className:"form-group"},r.a.createElement(i.a,{tagName:"label",id:"SOURCE_DESC"}),r.a.createElement("input",{type:"text",className:"form-control",value:f,onChange:C})),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!u.trim()||!N,onClick:k},r.a.createElement("i",{className:"fa fa-plus mr-2"}),r.a.createElement(i.a,{id:"APPEND"})))))))},j=a(26),w=a(83),C=a.n(w),S=function(){var e=Object(O.b)().sources;return r.a.createElement(g.b,null,r.a.createElement(g.c,{align:"center"},r.a.createElement(g.a,{width:{def:12,sm:10,lg:6}},r.a.createElement(j.a,null,e.filter(function(e){return"MY_RECORD"===e.desc}).map(function(e){return r.a.createElement(j.a,{key:"my-record"},r.a.createElement("span",{className:"form-control text-truncate text-center"},e.uid),r.a.createElement("a",{href:"https://social-plugins.line.me/lineit/share?url=".concat(encodeURIComponent("https://tabacotaco.github.io/cash-map/#/cloud/".concat(e.uid)))},r.a.createElement("img",{alt:"icon",className:"img-fluid",src:C.a,style:{width:38}})))})))))};t.default=function(e){var t=e.match.params.syncKey,a=void 0===t?"":t,l=Object(c.useState)("RECORD_SYNC"),s=Object(n.a)(l,2),o=s[0],u=s[1];return r.a.createElement("div",null,r.a.createElement("h4",{className:"page-title"},r.a.createElement("i",{className:"mr-2 fa fa-cloud"}),r.a.createElement(i.a,{tagName:"strong",id:"CLOUD_PROCESS"})),r.a.createElement(v,{activeAt:o,onActived:function(e){return u(e)}},r.a.createElement(E,{icon:"fa fa-cloud-download",title:"RECORD_SYNC"},r.a.createElement(N,{syncKey:a})),r.a.createElement(E,{icon:"fa fa-share-square",title:"RECORD_SHARE"},r.a.createElement(S,null))))}}}]);
//# sourceMappingURL=1.a3953a70.chunk.js.map
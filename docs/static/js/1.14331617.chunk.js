(window["webpackJsonpcash-map"]=window["webpackJsonpcash-map"]||[]).push([[1],{84:function(e,t,a){e.exports=a.p+"static/media/line_icon.4fc3c40a.svg"},87:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(0),r=a.n(c),l=a(3),o=a(7),i=a(12),s=a(13),u=a(15),m=a.n(u);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var b=function(){function e(t,a){Object(i.a)(this,e),this.activeAt=t,this.tabs={},this.tabs=a.reduce(function(e,t){var a=Object(c.useState)(m()()),r=Object(n.a)(a,1)[0];return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,Object(o.a)({},r,t))},{})}return Object(s.a)(e,[{key:"titleOpts",get:function(){var e=this;return Object.keys(this.tabs).map(function(t){var a=e.tabs[t].props,n=a.title;return{id:t,icon:a.icon,text:n,active:e.activeAt===n}})}},{key:"contentOpts",get:function(){var e=this;return Object.keys(this.tabs).map(function(t){var a=e.tabs[t].props,n=a.title;return{id:t,className:a.className,children:a.children,active:e.activeAt===n}})}}]),e}(),f=function(e){var t=e.id,a=e.text,n=e.icon,o=void 0===n?"":n,i=e.active,s=void 0!==i&&i,u=e.onActived,m=void 0===u?function(){}:u,d=Object(l.c)(),b=Object(c.useCallback)(function(){return m(a)},[a,m]);return r.a.createElement("button",{type:"button",id:"".concat(t,"-tab"),"data-toggle":"tab","aria-controls":t,style:{},className:"nav-item nav-link ".concat(s?"active":""),onClick:b},o?r.a.createElement("i",{className:"mr-2 ".concat(o)}):null,a in d.messages?d.messages[a]:a)},E=function(){return null},v=function(e){var t=e.children,a=e.activeAt,n=e.style,c=e.className,l=void 0===c?"":c,o=e.onActived,i=void 0===o?function(){}:o,s=new b(a,t);return r.a.createElement("div",{className:"cm-tab ".concat(l),style:n},r.a.createElement("div",{className:"nav nav-tabs"},s.titleOpts.map(function(e){var t=e.id,a=e.icon,n=e.text,c=e.active;return r.a.createElement(f,Object.assign({key:t},{id:t,icon:a,text:n,active:c,onActived:i}))})),r.a.createElement("div",{className:"tab-content"},s.contentOpts.map(function(e){var t=e.id,a=e.className,n=e.active,c=e.children;return n?r.a.createElement("div",{key:t,id:t,"aria-labelledby":"".concat(t,"-tab"),className:"tab-pane fade show active ".concat(a)},c):null})))},p=a(9),g=a(31),O=a(4),h=a(33),C=a(37),j=Symbol("SAVE"),y=function(e){var t=e.show,a=e.className,n=void 0===a?"":a,l=e.icon,o=void 0===l?"fa fa-pencil-square-o":l,i=e.onToggle,s=void 0===i?function(){}:i,u=Object(c.useCallback)(function(){t[1](!0),s()},[t,s]);return r.a.createElement("button",{type:"button",className:n,onClick:u},r.a.createElement("i",{className:o}))},N=function(e){var t=e.show,a=e.desc,l=e.onChange,o=Object(c.useState)(a),i=Object(n.a)(o,2),s=i[0],u=function(e){var t=e.value,a=e.setValue,n=e.onChange;return{onInputChange:Object(c.useCallback)(function(e){return a(e.target.value)},[a]),onModalCallback:Object(c.useCallback)(function(e){j===e&&n(t)},[t,n]),doStopSubmit:Object(c.useCallback)(function(e){e.preventDefault(),e.stopPropagation(),n(t)},[t,n])}}({value:s,setValue:i[1],onChange:l}),m=u.onInputChange,d=u.onModalCallback,b=u.doStopSubmit;return r.a.createElement(C.b,{className:"bg-secondary",show:t,closeByBtn:!0,doCallback:d,title:{icon:"fa fa-pencil-square-o",text:"TITLE_SET_DESC"},btns:[{code:C.a.DISMISS,icon:"fa fa-ban",text:"CANCEL"},{code:j,icon:"fa fa-download",text:"CONFIRM"}]},r.a.createElement("form",{onSubmit:b},r.a.createElement("input",{type:"text",className:"form-control",value:s,onChange:m})))},S=function(e){return Object(n.a)(e.show,1)[0]?r.a.createElement(N,e):null},w=function(){var e=Object(c.useState)(!1),t=Object(c.useState)({uid:"",desc:""}),a=Object(n.a)(t,2),l=a[0],o=a[1],i=Object(g.b)(),s=i.sourceKey,u=i.sources,m=function(e){var t=e.edit,a=e.setEdit,n=e.dispatch;return{onSwitch:Object(c.useCallback)(function(e){n({action:"SWITCH",switchTo:e}),window.history.back()},[n]),onDescToggle:Object(c.useCallback)(function(e){return a(e)},[a]),doUpdate:Object(c.useCallback)(function(e){return n({action:"UPDATE",source:t})},[t,n]),doRemove:Object(c.useCallback)(function(e){return n({action:"REMOVE",source:e})},[n])}}({edit:l,setEdit:o,dispatch:i.dispatch}),d=m.onSwitch,b=m.onDescToggle,f=m.doUpdate,E=m.doRemove;return r.a.createElement("div",null,r.a.createElement(S,{show:e,desc:l.desc,onChange:f}),r.a.createElement(h.b,{onSelect:d,Toggle:u.reduce(function(e,t){return t.uid===s?t.desc:e},"")},u.map(function(t){var a=t.uid,n=t.desc;return"MY_RECORD"===n?r.a.createElement(h.a,{key:a,value:a,desc:n}):r.a.createElement(h.a,{key:a,value:a,desc:n},r.a.createElement(y,{show:e,className:"btn btn-link text-info",onToggle:function(){return b({uid:a,desc:n})}}),r.a.createElement("button",{type:"button",className:"btn btn-link text-danger",onClick:function(){return E({uid:a,desc:n})}},r.a.createElement("i",{className:"fa fa-remove"})))})))},k=function(e){var t=e.syncKey,a=void 0===t?"":t,o=Object(c.useRef)(null),i=Object(c.useState)(a),s=Object(n.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(""),b=Object(n.a)(d,2),f=b[0],E=b[1],v=Object(c.useState)(!1),h=Object(n.a)(v,2),C=h[0],j=function(e){var t=e.autoFocus,a=e.syncRef,n=e.newKey,r=e.desc,l=e.setNewKey,o=e.setDesc,i=e.setAllowed,s=Object(g.b)(),u=s.sources,m=s.dispatch,d=Object(c.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.trim()&&t.trim()&&[".","#","$","[","]"].indexOf(e)<0&&u.findIndex(function(a){var n=a.uid,c=a.desc;return e.trim()===n.trim()||t.trim()===c.trim()})<0?Object(p.d)(e).then(function(e){var t=e.content;return i(t)}):i(!1)},[u,i]);return Object(c.useEffect)(function(){var e=a.current;t&&e&&e.scrollIntoView()}),{onNewkeyChange:Object(c.useCallback)(function(e){l(e.target.value),d(e.target.value,r)},[r,l,d]),onDescChange:Object(c.useCallback)(function(e){o(e.target.value),d(n,e.target.value)},[n,o,d]),doStopSubmit:Object(c.useCallback)(function(e){e.preventDefault(),e.stopPropagation()},[]),doAdd:Object(c.useCallback)(function(){m({action:"CREATE",source:{uid:n,desc:r}}),l(""),o("")},[n,r,l,o,m])}}({autoFocus:!!a,syncRef:o,newKey:u,desc:f,setNewKey:m,setDesc:E,setAllowed:h[1]}),y=j.onNewkeyChange,N=j.onDescChange,S=j.doStopSubmit,k=j.doAdd;return r.a.createElement(O.b,null,r.a.createElement(O.c,{align:"center"},r.a.createElement(O.a,{className:"form-group",width:{def:12,sm:8,md:6},border:{b:!0}},r.a.createElement("h5",{className:"mb-3"},r.a.createElement("label",null,r.a.createElement("i",{className:"mr-2 fa fa-exchange"}),r.a.createElement(l.a,{tagName:"strong",id:"SWITCH_CLOUD"}))),r.a.createElement("p",{className:"text-light font-italic font-weight-light mb-4"},r.a.createElement(l.a,{id:"SWITCH_DESC"})),r.a.createElement("div",{className:"form-group"},r.a.createElement(w,null)))),r.a.createElement(O.c,{align:"center"},r.a.createElement(O.a,{width:{def:12,sm:8,md:6}},r.a.createElement("h5",{ref:o,className:"mb-3"},r.a.createElement("i",{className:"mr-2 fa fa-plus-square"}),r.a.createElement(l.a,{tagName:"strong",id:"APPEND_SOURCE"})),r.a.createElement("p",{className:"text-light font-italic font-weight-light mb-4"},r.a.createElement(l.a,{id:"APPEND_DESC"})),r.a.createElement("form",{onSubmit:S},r.a.createElement("div",{className:"form-group"},r.a.createElement(l.a,{tagName:"label",id:"SOURCE_KEY"}),r.a.createElement("input",{type:"text",className:"form-control",value:u,onChange:y})),r.a.createElement("div",{className:"form-group"},r.a.createElement(l.a,{tagName:"label",id:"SOURCE_DESC"}),r.a.createElement("input",{type:"text",className:"form-control",value:f,onChange:N})),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!u.trim()||!C,onClick:k},r.a.createElement("i",{className:"fa fa-plus mr-2"}),r.a.createElement(l.a,{id:"APPEND"})))))))},D=a(24),R=a(84),x=a.n(R),A=function(){var e=Object(g.b)().sources;return r.a.createElement(O.b,null,r.a.createElement(O.c,{align:"center"},r.a.createElement(O.a,{width:{def:12,sm:10,lg:6}},r.a.createElement(D.a,null,e.filter(function(e){return"MY_RECORD"===e.desc}).map(function(e){return r.a.createElement(D.a,{key:"my-record"},r.a.createElement("span",{className:"form-control text-truncate text-center"},e.uid),r.a.createElement("a",{href:"https://social-plugins.line.me/lineit/share?url=".concat(encodeURIComponent("https://tabacotaco.github.io/cash-map/#/cloud/".concat(e.uid)))},r.a.createElement("img",{alt:"icon",className:"img-fluid",src:x.a,style:{width:38}})))})))))};t.default=function(e){var t=e.match.params.syncKey,a=void 0===t?"":t,o=Object(c.useState)("RECORD_SYNC"),i=Object(n.a)(o,2),s=i[0],u=i[1];return r.a.createElement("div",null,r.a.createElement("h4",{className:"page-title"},r.a.createElement("i",{className:"mr-2 fa fa-cloud"}),r.a.createElement(l.a,{tagName:"strong",id:"CLOUD_PROCESS"})),r.a.createElement(v,{activeAt:s,onActived:function(e){return u(e)}},r.a.createElement(E,{icon:"fa fa-cloud-download",title:"RECORD_SYNC"},r.a.createElement(k,{syncKey:a})),r.a.createElement(E,{icon:"fa fa-share-square",title:"RECORD_SHARE"},r.a.createElement(A,null))))}}}]);
//# sourceMappingURL=1.14331617.chunk.js.map